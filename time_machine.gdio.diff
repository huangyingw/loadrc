diff --git a/etc/netatalk/afp.conf b/etc/netatalk/afp.conf
new file mode 100644
index 00000000..73b495da
--- /dev/null
+++ ./etc/netatalk/afp.conf
@@ -0,0 +1,3 @@
+[Time Machine]
+    path = target_dir_var
+    time machine = yes
diff --git a/install_basic_linux.sh b/install_basic_linux.sh
index 0b7a87e8..23be74d2 100755
--- ./install_basic_linux.sh
+++ ./install_basic_linux.sh
@@ -11,6 +11,7 @@ fi
 
 ./install_prerequisite.sh
 ./install_nodejs.sh
+./install_time_machine.sh
 ./enpass_install.sh
 ./nxrc/install.sh
 ./kubernetesrc/install.sh
diff --git a/install_time_machine.sh b/install_time_machine.sh
new file mode 100755
index 00000000..4af77eea
--- /dev/null
+++ ./install_time_machine.sh
@@ -0,0 +1,16 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0")
+SCRIPTPATH=$(dirname "$SCRIPT")
+cd "$SCRIPTPATH"
+
+TARGET_DIR="/media/mldonkey/time-machine"
+TARGET_DIR_FOR_SED=$(echo "$TARGET_DIR" | sed 's/\//\\\//g')
+apt install -y netatalk avahi-daemon
+cp -fv ./etc/netatalk/afp.conf /etc/netatalk/afp.conf
+sed -i.bak "s/target_dir_var/$TARGET_DIR_FOR_SED/g" /etc/netatalk/afp.conf
+
+mkdir -p "$TARGET_DIR"
+chown nobody:nogroup "$TARGET_DIR"
+chmod -R 777 "$TARGET_DIR"
+
+service netatalk restart
diff --git a/linux_links/etc/crypttab b/linux_links/etc/crypttab
index eadc0bd0..191dd600 100644
--- ./linux_links/etc/crypttab
+++ ./linux_links/etc/crypttab
@@ -7,6 +7,6 @@ raid6_crypt      /dev/disk/by-uuid/6eeb5df9-3399-40dc-b11c-f81aa773ae92  /root/l
 usb_archive      /dev/disk/by-uuid/e6addd78-0027-4f36-9251-0788301303c6  /root/loadrc/keys/keyfile   luks
 usb_backup_crypt_4T      /dev/disk/by-uuid/4e0d72a2-2f98-4c11-becd-beaa21ec1957  /root/loadrc/keys/keyfile   luks
 usb_backup_crypt_5T_1      /dev/disk/by-uuid/5d5e3fde-814f-4018-a103-2789c84d43e2  /root/loadrc/keys/keyfile   luks
-zarchive      /dev/disk/by-uuid/653cc34e-f0e2-454c-8667-5f1824f3e8d9  /root/loadrc/keys/keyfile   luks
+zarchive      /dev/disk/by-uuid/a840176a-b76a-4d0f-962c-439e68107670  /root/loadrc/keys/keyfile   luks
 vserver_crypt      /dev/disk/by-uuid/a4ff213e-f734-4c88-aba9-2ce733d0de76  /root/loadrc/keys/keyfile   luks
 usb_backup_crypt_8T      /dev/disk/by-uuid/e1a69d4d-dacb-413b-8361-d59b401b80ad  /root/loadrc/keys/keyfile   luks
