diff --git a/.AF052336.rc b/.AF052336.rc
index 90ce3cd4..71517e53 100644
--- ./.AF052336.rc
+++ ./.AF052336.rc
@@ -1,2 +1,3 @@
 eval `ssh-agent -s`
 ssh-add /Users/yhuang/.ssh/github_id_rsa
+~/loadrc/setup_pbpaste-remote.sh
diff --git a/.androidrc b/.androidrc
deleted file mode 100644
index 263407f8..00000000
--- ./.androidrc
+++ /dev/null
@@ -1,2 +0,0 @@
-export PATH="$HOME/Android/sdk/tools:$PATH"
-export PATH="$HOME/Android/sdk/platform-tools:$PATH"
diff --git a/.bashrc b/.bashrc
index a327085e..812c6e14 100644
--- ./.bashrc
+++ ./.bashrc
@@ -148,6 +148,3 @@ fi
 #if [ -f /etc/bash_completion ] && ! shopt -oq posix; then
 #    . /etc/bash_completion
 #fi
-
-export PATH=/usr/local/bin:$PATH
-. $HOME/loadrc/.loadrc
diff --git a/.envrc b/.envrc
index 47a567de..cbf2b86e 100755
--- ./.envrc
+++ ./.envrc
@@ -24,6 +24,3 @@ export LSCOLORS=Exfxcxdxbxegedabagacad
 export NC='\033[0;0m' # No Color
 export green='\033[0;32m'
 export red='\033[0;31m'
-export PATH="$HOME/anaconda3/bin:$PATH"
-export PATH=/usr/local/bin:$PATH
-export PATH=~/bin:$PATH
diff --git a/.gitconfig_sample b/.gitconfig_sample
index 5ed35a81..0ea38ff6 100644
--- ./.gitconfig_sample
+++ ./.gitconfig_sample
@@ -8,7 +8,7 @@
     remote = origin
 [gsync]
     remote = authorVar
-    branch = master
+    target = authorVar/branchVar
 [merge]
     allow = true
 [branch "dev"]
diff --git a/.gitmodules b/.gitmodules
index e17f9887..146f4725 100644
--- ./.gitmodules
+++ ./.gitmodules
@@ -133,10 +133,6 @@
     path = vimrc/.vim/bundle/ncm2-racer
     url = https://github.com/ncm2/ncm2-racer
     branch = master
-[submodule "vimrc/.vim/bundle/ncm2-pyclang"]
-    path = vimrc/.vim/bundle/ncm2-pyclang
-    url = https://github.com/ncm2/ncm2-pyclang
-    branch = master
 [submodule "vimrc/.vim/bundle/vimtex"]
     path = vimrc/.vim/bundle/vimtex
     url = https://github.com/lervag/vimtex
@@ -231,3 +227,15 @@
 [submodule "vimrc/.vim/bundle/bclose.vim"]
     path = vimrc/.vim/bundle/bclose.vim
     url = git@github.com:rbgrouleff/bclose.vim.git
+[submodule "vimrc/.vim/bundle/vim-pbcopy"]
+	path = vimrc/.vim/bundle/vim-pbcopy
+	url = git@github.com:huangyingw/vim-pbcopy.git
+[submodule "neovim"]
+	path = neovim
+	url = git@github.com:huangyingw/neovim.git
+[submodule "vimrc/.vim/bundle/vim-fetch"]
+	path = vimrc/.vim/bundle/vim-fetch
+	url = git@github.com:wsdjeg/vim-fetch.git
+[submodule "wifi-auto-reconnect"]
+	path = wifi-auto-reconnect
+	url = git@github.com:huangyingw/martinsoft_wifi-auto-reconnect.git
diff --git a/.gitrc b/.gitrc
index 8e753cb1..d416ab62 100755
--- ./.gitrc
+++ ./.gitrc
@@ -21,6 +21,7 @@ alias gclean='git clean -fd'
 alias gco='$HOME/loadrc/gitrc/gco.sh'
 alias gcob='$HOME/loadrc/gitrc/gcob.sh'
 alias gcof='$HOME/loadrc/gitrc/gcof.sh'
+alias gcom='$HOME/loadrc/gitrc/gcom.sh'
 alias gctb='$HOME/loadrc/gitrc/gctb.sh'
 alias gdev='$HOME/loadrc/gitrc/gdev.sh'
 alias gdi2='$HOME/loadrc/gitrc/gdi2.sh'
@@ -64,6 +65,7 @@ alias gstl='$HOME/loadrc/gitrc/gstl.sh'
 alias gstlv='$HOME/loadrc/gitrc/gstlv.sh'
 alias gstp='$HOME/loadrc/gitrc/gstp.sh'
 alias gstv='$HOME/loadrc/gitrc/gstv.sh'
+alias gsubbr='$HOME/loadrc/gitrc/git_submodules_branch.sh'
 alias gsubmoduleUpdate='$HOME/loadrc/gitrc/submodule_update.sh'
 alias gsync='$HOME/loadrc/gitrc/gsync.sh'
 alias gtag='$HOME/loadrc/gitrc/gtag.sh'
diff --git a/.gorc b/.gorc
index a51724b9..82a595f3 100644
--- ./.gorc
+++ ./.gorc
@@ -1,2 +1 @@
 export GOPATH=$HOME/go
-export PATH=$PATH:/usr/local/go/bin
diff --git a/.imac.rc b/.imac.rc
index a0d25e95..d053c758 100755
--- ./.imac.rc
+++ ./.imac.rc
@@ -8,3 +8,5 @@ then
         sudo systemsetup -setcomputersleep Never; \
         fi
 fi
+
+~/loadrc/wifi-auto-reconnect/install.sh
diff --git a/.imacpro.rc b/.imacpro.rc
index a0d25e95..922db5fe 100755
--- ./.imacpro.rc
+++ ./.imacpro.rc
@@ -1,10 +1,9 @@
 #!/bin/zsh
 #alias restartWifi='$HOME/loadrc/osxrc/restart_wifi.sh'
 
-if [ $(uname) = "Darwin" ]
+if ! (sudo systemsetup -getcomputersleep | grep -q Never)
 then
-    if ! (sudo systemsetup -getcomputersleep | grep -q Never) ; \
-        then \
-        sudo systemsetup -setcomputersleep Never; \
-        fi
+    sudo systemsetup -setcomputersleep Never
 fi
+
+~/loadrc/setup_bidirectional_clipboard.sh
diff --git a/.loadrc b/.loadrc
index 17e45232..14ec11eb 100755
--- ./.loadrc
+++ ./.loadrc
@@ -1,5 +1,5 @@
 #!/bin/zsh
-. $HOME/loadrc/.androidrc
+. $HOME/loadrc/.pathrc
 . $HOME/loadrc/.dockerrc
 . $HOME/loadrc/.envrc
 . $HOME/loadrc/.gitrc
diff --git a/.macmini.rc b/.macmini.rc
new file mode 100644
index 00000000..a3b313b1
--- /dev/null
+++ ./.macmini.rc
@@ -0,0 +1,9 @@
+#!/bin/zsh
+#alias restartWifi='$HOME/loadrc/osxrc/restart_wifi.sh'
+
+if ! (sudo systemsetup -getcomputersleep | grep -q Never)
+then
+    sudo systemsetup -setcomputersleep Never
+fi
+
+~/loadrc/setup_pbpaste-remote.sh
diff --git a/.macos.rc b/.macos.rc
new file mode 100644
index 00000000..9e7032fd
--- /dev/null
+++ ./.macos.rc
@@ -0,0 +1 @@
+~/loadrc/setup_pbpaste-remote.sh
diff --git a/.macosrc b/.macosrc
index de211c97..1298e4e5 100644
--- ./.macosrc
+++ ./.macosrc
@@ -1,6 +1,4 @@
 if [ $(uname) = "Darwin" ]
 then
     alias restartBluetooth='$HOME/loadrc/osxrc/restart_bluetooth.sh'
-    export PATH="/Applications/kdiff3.app/Contents/MacOS:$PATH"
-    export PATH="/Applications/NoMachine.app/Contents/MacOS:$PATH"
 fi
diff --git a/.mba.rc b/.mba.rc
new file mode 100644
index 00000000..9ce19350
--- /dev/null
+++ ./.mba.rc
@@ -0,0 +1,9 @@
+#!/bin/zsh
+
+if ! (sudo systemsetup -getcomputersleep | grep -q Never)
+then
+    sudo systemsetup -setcomputersleep Never
+fi
+
+~/loadrc/setup_pbpaste-remote.sh
+~/loadrc/uninstall_bidirectional_clipboard.sh
diff --git a/.mbp.rc b/.mbp.rc
index 514389f0..9ce19350 100755
--- ./.mbp.rc
+++ ./.mbp.rc
@@ -1,11 +1,9 @@
 #!/bin/zsh
-#alias restartWifi='$HOME/loadrc/osxrc/restart_wifi.sh'
-alias restartBluetooth='$HOME/loadrc/osxrc/restart_bluetooth.sh'
 
-if [ $(uname) = "Darwin" ]
+if ! (sudo systemsetup -getcomputersleep | grep -q Never)
 then
-    if ! (sudo systemsetup -getcomputersleep | grep -q Never) ; \
-        then \
-        sudo systemsetup -setcomputersleep Never; \
-        fi
+    sudo systemsetup -setcomputersleep Never
 fi
+
+~/loadrc/setup_pbpaste-remote.sh
+~/loadrc/uninstall_bidirectional_clipboard.sh
diff --git a/.mini.rc b/.mini.rc
new file mode 100755
index 00000000..9e7032fd
--- /dev/null
+++ ./.mini.rc
@@ -0,0 +1 @@
+~/loadrc/setup_pbpaste-remote.sh
diff --git a/.mini2.rc b/.mini2.rc
new file mode 100755
index 00000000..d20e36a3
--- /dev/null
+++ ./.mini2.rc
@@ -0,0 +1,2 @@
+~/loadrc/setup_pbpaste-remote.sh
+~/loadrc/wifirc/enable.sh
diff --git a/.pathrc b/.pathrc
new file mode 100644
index 00000000..a4b516a8
--- /dev/null
+++ ./.pathrc
@@ -0,0 +1,13 @@
+export PATH=$HOME/Android/sdk/platform-tools:$PATH
+export PATH=$HOME/Android/sdk/tools:$PATH
+export PATH=$HOME/anaconda3/bin:$PATH
+export PATH=$HOME/bin:$PATH
+export PATH=/Applications/NoMachine.app/Contents/MacOS:$PATH
+export PATH=/Applications/kdiff3.app/Contents/MacOS:$PATH
+export PATH=/opt/homebrew/bin:$PATH
+export PATH=/opt/local/bin:$PATH
+export PATH=/opt/local/sbin:$PATH
+export PATH=/users/alpine/.node_modules_global/bin:$PATH
+export PATH=/usr/local/bin:$PATH
+export PATH=/usr/local/cuda/bin:$PATH
+export PATH=/usr/local/go/bin:$PATH
diff --git a/.profile b/.profile
index 10952fbd..c0ecb98c 100755
--- ./.profile
+++ ./.profile
@@ -16,20 +16,5 @@ if [ -n "$BASH_VERSION" ]; then
     fi
 fi
 
-# set PATH so it includes user's private bin if it exists
-if [ -d "$HOME/bin" ] ; then
-    PATH="$HOME/bin:$PATH"
-fi
 export LANG="en_US.utf8"
 export LANGUAGE="en_US:en"
-
-##
-# Your previous /Users/huangyingw/.profile file was backed up as /Users/huangyingw/.profile.macports-saved_2019-06-03_at_21:24:24
-##
-
-# MacPorts Installer addition on 2019-06-03_at_21:24:24: adding an appropriate PATH variable for use with MacPorts.
-#export PATH="/opt/local/bin:/opt/local/sbin:$PATH"
-# Finished adapting your PATH environment variable for use with MacPorts.
-
-export PATH=/usr/local/bin:$PATH
-. $HOME/loadrc/.loadrc
diff --git a/.scl-1yihuang-m.corporate.localrc b/.scl-1yihuang-m.corporate.localrc
deleted file mode 100755
index 13bad558..00000000
--- ./.scl-1yihuang-m.corporate.localrc
+++ /dev/null
@@ -1,60 +0,0 @@
-########
-# TOMCAT
-export TOMCAT_HOME=/Users/yihuang/bin/apache-tomcat-7.0.55
-export PATH=${TOMCAT_HOME}/bin:${PATH}
-
-######
-# JAVA
-export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_67.jdk/Contents/Home/
-export PATH=${JAVA_HOME}/bin:${PATH}
-export PATH=/opt/subversion/bin:${PATH}
-
-#######
-# MAVEN
-export M2_HOME=/Users/yihuang/bin/apache-maven-3.2.3/
-export PATH=${M2_HOME}/bin:${PATH}
-
-export MANPATH=${JAVA_HOME}/man:${MANPATH}
-
-#######
-# MYSQL
-export MYSQL_HOME=/usr/local/mysql
-export PATH=${MYSQL_HOME}/bin:${PATH}
-
-
-########
-# GRADLE
-export GRADLE_HOME=/Users/yihuang/bin/gradle-1.12
-export PATH=${GRADLE_HOME}/bin:${PATH}
-
-
-###########
-# LIQUIBASE
-export LIQUIBASE_HOME=/Users/yihuang/bin/liquibase-3.2.0
-export PATH=${LIQUIBASE_HOME}:${PATH}
-
-
-#######
-#MONGOD
-
-export SVN_EDITOR=/usr/bin/vim
-
-######
-# PATH
-export MY_HOME=/Users/yihuang
-export PATH=${MY_HOME}/bin:${PATH}
-export PATH=$HOME/local/bin:$PATH
-
-#################
-# COLOR DIRECTORY
-export CLICOLOR=1
-export LSCOLORS=ExFxCxDxBxegedabagacad
-
-#######
-# ALIAS
-#alias ls='ls -lAF --color=tty'
-#alias ls='ls -la'
-alias updatedb='sudo /usr/libexec/locate.updatedb'
-alias runmongo='mongod --fork --logpath /var/log/mongodb.log'
-
-export PATH=/usr/local/Cellar/ctags/5.8/bin:${PATH}
diff --git a/.server.rc b/.server.rc
new file mode 100644
index 00000000..3d146d68
--- /dev/null
+++ ./.server.rc
@@ -0,0 +1,2 @@
+#!/bin/zsh
+~/loadrc/setup_pbpaste-remote.sh
diff --git a/.shellrc b/.shellrc
index 52d99984..32ff0a7c 100755
--- ./.shellrc
+++ ./.shellrc
@@ -1,6 +1,5 @@
 #!/bin/zsh
 #alias pm-suspend='$HOME/loadrc/bashrc/sleep.sh'
-#alias sshfs='sshfs -o allow_other,uid=1000,gid=1000'
 #alias tmux='$HOME/loadrc/bashrc/tmux.sh'
 alias apf='$HOME/loadrc/bashrc/apf.sh'
 alias api='apt-get install -y'
@@ -13,7 +12,7 @@ alias ca='$HOME/loadrc/bashrc/ca.sh'
 alias clearDNS='$HOME/loadrc/bashrc/clearDNS.sh'
 alias copy='$HOME/loadrc/bashrc/copy.sh'
 alias csr='$HOME/loadrc/bashrc/csr.sh'
-alias d='make && $HOME/loadrc/bashrc/debug.sh'
+alias dd='$HOME/loadrc/bashrc/dd.sh'
 alias dcopy='$HOME/loadrc/bashrc/dcopy.sh'
 alias deploy='$HOME/loadrc/bashrc/deploy.sh'
 alias encrypt='$HOME/loadrc/bashrc/encrypt.sh'
@@ -74,7 +73,6 @@ alias sancho=/opt/sancho-0.9.4-59-linux-gtk/sancho
 alias selectCopy='$HOME/loadrc/bashrc/select_copy.sh'
 alias selectmirror='$HOME/loadrc/bashrc/selectmirror.sh'
 alias sleep='$HOME/loadrc/bashrc/sleep.sh'
-alias sload='$HOME/loadrc/bashrc/sload.sh'
 alias smount='$HOME/loadrc/bashrc/smount.sh'
 alias split='$HOME/loadrc/bashrc/split.sh'
 alias ssh='$HOME/loadrc/bashrc/ssh.sh'
@@ -100,7 +98,6 @@ alias ubak='$HOME/loadrc/bashrc/ubak.sh'
 alias ufind='$HOME/loadrc/bashrc/ufind.sh'
 alias umlet='$HOME/loadrc/bashrc/umlet.sh'
 alias umletc='$HOME/loadrc/bashrc/umletc.sh'
-alias umount='$HOME/loadrc/bashrc/umount.sh'
 alias updateProj='$HOME/loadrc/bashrc/update_proj.sh'
 alias ures='$HOME/loadrc/bashrc/ures.sh'
 alias usync='$HOME/loadrc/bashrc/usync.sh'
diff --git a/.ubuntu.rc b/.ubuntu.rc
new file mode 100644
index 00000000..9e7032fd
--- /dev/null
+++ ./.ubuntu.rc
@@ -0,0 +1 @@
+~/loadrc/setup_pbpaste-remote.sh
diff --git a/.zshrc b/.zshrc
index c7c0b3ff..7a159ed1 100644
--- ./.zshrc
+++ ./.zshrc
@@ -1,5 +1,4 @@
 # If you come from bash you might have to change your $PATH.
-# export PATH=$HOME/bin:/usr/local/bin:$PATH
 
 # Path to your oh-my-zsh installation.
 export ZSH=$HOME/.oh-my-zsh
@@ -98,6 +97,5 @@ source $ZSH/oh-my-zsh.sh
 # alias zshconfig="mate ~/.zshrc"
 # alias ohmyzsh="mate ~/.oh-my-zsh"
 
-export PATH=/usr/local/bin:$PATH
 . $HOME/loadrc/.loadrc
 setopt HIST_IGNORE_ALL_DUPS
diff --git a/Dockerfile b/Dockerfile
index 08e0c80b..169c9ec2 100644
--- ./Dockerfile
+++ ./Dockerfile
@@ -4,6 +4,7 @@ ENV DEBIAN_FRONTEND noninteractive
 WORKDIR /root/loadrc
 
 COPY ./*.sh /root/loadrc/
+COPY ./neovim/ /root/loadrc/neovim/
 COPY ./.ssh/id_* /root/.ssh/
 COPY ./entrypoint.sh /entrypoint.sh
 
diff --git a/Library/LaunchAgents/pbcopy.plist b/Library/LaunchAgents/pbcopy.plist
new file mode 100644
index 00000000..f7b23edf
--- /dev/null
+++ ./Library/LaunchAgents/pbcopy.plist
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
+<plist version="1.0">
+    <dict>
+	<key>Label</key>
+	<string>localhost.pbcopy</string>
+	<key>ProgramArguments</key>
+	<array>
+	    <string>/bin/sh</string>
+	    <string>-c</string>
+	    <string>LC_CTYPE=en_US.UTF-8 pbcopy</string>
+	</array>
+	<key>Sockets</key>
+	<dict>
+	    <key>Listeners</key>
+	    <dict>
+		<key>SockNodeName</key>
+		<string>127.0.0.1</string>
+		<key>SockServiceName</key>
+		<string>2224</string>
+	    </dict>
+	</dict>
+	<key>inetdCompatibility</key>
+	<dict>
+	    <key>Wait</key>
+	    <false/>
+	</dict>
+    </dict>
+</plist>
diff --git a/Library/LaunchAgents/pbpaste.plist b/Library/LaunchAgents/pbpaste.plist
new file mode 100644
index 00000000..392c21db
--- /dev/null
+++ ./Library/LaunchAgents/pbpaste.plist
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
+<plist version="1.0">
+    <dict>
+	<key>Label</key>
+	<string>localhost.pbpaste</string>
+	<key>ProgramArguments</key>
+	<array>
+	    <string>/bin/sh</string>
+	    <string>-c</string>
+	    <string>LC_CTYPE=en_US.UTF-8 pbpaste</string>
+	</array>
+	<key>Sockets</key>
+	<dict>
+	    <key>Listeners</key>
+	    <dict>
+		<key>SockNodeName</key>
+		<string>127.0.0.1</string>
+		<key>SockServiceName</key>
+		<string>2225</string>
+	    </dict>
+	</dict>
+	<key>inetdCompatibility</key>
+	<dict>
+	    <key>Wait</key>
+	    <false/>
+	</dict>
+    </dict>
+</plist>
diff --git a/bashrc/all_prunefix.conf b/bashrc/all_prunefix.conf
new file mode 100644
index 00000000..7ccfc45e
--- /dev/null
+++ ./bashrc/all_prunefix.conf
@@ -0,0 +1,57 @@
+"*/vimtex/test/*"
+"./*.diff"
+"./*.egg"
+"./*.log"
+"./*.original"
+"./*.pdf"
+"./*.so"
+"./*.zip"
+"./*/gbil.log"
+"./*/running.time"
+"./*/tmirror.ready"
+"./cscope.*"
+"./cscope/*"
+"./jdupes/*"
+"./neovim/*"
+"./oh-my-zsh/*"
+"./vimrc/.vim/autosess/*"
+"./vimrc/.vim/view/*"
+*.bak
+*.class
+*.cvs
+*.findresult
+*.gif
+*.git
+*.hg
+*.jpg
+*.lck
+*.metadata
+*.orig
+*.out
+*.pem
+*.png
+*.py[co]
+*.runresult
+*.sort
+*.svn
+*.sw[a-z]
+*.tmp
+*/.classpath
+*/.fugitiveblame
+*/.project
+*/.ropeproject/*
+*/.settings/*
+*/bashrc/.bash_history
+*/build/*
+*/files.proj
+*/fonts/*
+*/gbil.log
+*/images/*
+*/src/MacVim/icons/*
+*/target/*
+*/third_party/*
+./*/includefile.conf
+./*/prunefile.conf
+./*/prunefix.conf
+./keys/*
+./vimrc/.vim/bundle/node_modules/*
diff --git a/bashrc/append_num.sh b/bashrc/append_num.sh
new file mode 100755
index 00000000..67fd9240
--- /dev/null
+++ ./bashrc/append_num.sh
@@ -0,0 +1,3 @@
+#!/bin/zsh
+
+echo "$1" | sed "s/\/[6-9]\([^0-9][^\/]*$\)/\/\1/g;s/\/\([^\/]*$\)/\/$2 \1/g;s/\"//g" | tr -s ' '
diff --git a/bashrc/append_rate.sh b/bashrc/append_rate.sh
new file mode 100755
index 00000000..c0515d20
--- /dev/null
+++ ./bashrc/append_rate.sh
@@ -0,0 +1,6 @@
+#!/bin/zsh
+
+source=$(echo "$1" | sed 's/"//g')
+target=$(~/loadrc/bashrc/append_num.sh "$1" "$2")
+mkdir -p "$(dirname "$target")"
+mv -nv "$source" "$target"
diff --git a/bashrc/copy.sh b/bashrc/copy.sh
index 09330daf..c4afb3aa 100755
--- ./bashrc/copy.sh
+++ ./bashrc/copy.sh
@@ -6,13 +6,16 @@ then
     exit 1
 fi
 
-SOURCE=$1
-TARGET=$2
+source=$1
+target=$2
 
-if [[ "${TARGET}" != *":"* ]] && [[ ! -d "${TARGET}" ]]
+if [[ "$target" != *":"* ]] && [[ ! -d "$target" ]]
 then
-    mkdir -p "${TARGET}"
+    mkdir -p "$target"
 fi
 
+iconvs=$(~/loadrc/bashrc/get_iconvs.sh "$source" "$target")
+
 rsync -aHSv --progress --force \
-    "${SOURCE}" "${TARGET}"
+    "$iconvs" \
+    "$source/" "$target/"
diff --git a/bashrc/cutcommon.sh b/bashrc/cutcommon.sh
new file mode 100755
index 00000000..c66a8e4c
--- /dev/null
+++ ./bashrc/cutcommon.sh
@@ -0,0 +1,7 @@
+#!/bin/zsh
+export LC_ALL=C
+
+comm -2 -3 <(sort "$1") <(sort "$2") > "$1".findresult
+comm -1 -3 <(sort "$1") <(sort "$2") > "$2".findresult
+cp -fv "$1".findresult "$1"
+cp -fv "$2".findresult "$2"
diff --git a/bashrc/dd.sh b/bashrc/dd.sh
index 26ad90c3..20226fa3 100755
--- ./bashrc/dd.sh
+++ ./bashrc/dd.sh
@@ -1,2 +1,5 @@
 #!/bin/zsh 
-dd if=/dev/nbd0 | pv | dd of=/dev/nbd0
+
+input="$1"
+output="$2" 
+(pv -n "$input" | dd of="$output" bs=128M conv=notrunc,noerror) 2>&1 | dialog --gauge "Running dd command (cloning), please wait..." 10 70 0
diff --git a/bashrc/do_update_proj.sh b/bashrc/do_update_proj.sh
index 9a6e19c8..7f8236ad 100755
--- ./bashrc/do_update_proj.sh
+++ ./bashrc/do_update_proj.sh
@@ -5,3 +5,5 @@
 ~/loadrc/bashrc/fvideos.sh
 ~/loadrc/bashrc/fdocs.sh
 ~/loadrc/bashrc/cscope.sh
+~/loadrc/bashrc/generate_all_list.sh &
+git remote update &
diff --git a/bashrc/fdisk_log.sh b/bashrc/fdisk_log.sh
index 37081d0c..3867ab7b 100755
--- ./bashrc/fdisk_log.sh
+++ ./bashrc/fdisk_log.sh
@@ -4,7 +4,7 @@ logFile=~/loadrc/fdisk.log
 df -TH > "$logFile"
 fdisk -l >> "$logFile"
 cat /etc/fstab >> "$logFile"
-cat ~/loadrc/linux/etc/crypttab >> "$logFile"
+cat ~/loadrc/linux_links/etc/crypttab >> "$logFile"
 DEVICE=`mdadm -D --scan|awk '{print $2}'`
 mdadm -D "$DEVICE" >> "$logFile"
 blkid >> "$logFile"
diff --git a/bashrc/file_move.sh b/bashrc/file_move.sh
new file mode 100755
index 00000000..889a9697
--- /dev/null
+++ ./bashrc/file_move.sh
@@ -0,0 +1,9 @@
+#!/bin/zsh
+
+if [ ! -d "$2" ]
+then
+    mkdir -p "$2"
+fi
+
+ss=$(echo "$1" | sed 's/"//g')
+mv -nv "$ss" "$2"
diff --git a/bashrc/find_text.sh b/bashrc/find_text.sh
new file mode 100755
index 00000000..6d2b8f8b
--- /dev/null
+++ ./bashrc/find_text.sh
@@ -0,0 +1,34 @@
+#!/bin/zsh
+
+cd ~/loadrc/
+
+function fun1()
+{
+    find . -type f -exec grep -Il "" {} + > fun1.log
+}
+
+function fun2()
+{
+    find . -type f -exec grep -Iq . {} \; -print > fun2.log 
+}
+
+function fun3()
+{
+    find . -type f -exec grep -Il "" {} \; > fun3.log 
+}
+
+function fun4()
+{
+    find . -type f -exec grep -Il . {} + > fun4.log 
+}
+
+function fun5()
+{
+    find . -type f -print0 | xargs -0 grep -IZl . > fun5.log 
+}
+
+fun1
+fun2
+fun3
+fun4
+fun5
diff --git a/bashrc/fr.sh b/bashrc/fr.sh
index f58a2ee7..dcc8f356 100755
--- ./bashrc/fr.sh
+++ ./bashrc/fr.sh
@@ -1,4 +1,16 @@
 #!/bin/zsh
+
 FIND=$(echo $1 | sed 's/\//\\\//g')
 REPLACE=$(echo $2 | sed 's/\//\\\//g')
+
+if [[ "$4" == "w" ]]
+then
+    if [ $(uname) = "Darwin" ]
+    then
+        xargs sed -i.bak "s/[[:<:]]${FIND}[[:>:]]/${REPLACE}/g" < "$3"
+    else
+        xargs sed -i.bak "s/\b${FIND}\b/${REPLACE}/g" < "$3"
+    fi
+else
     xargs sed -i.bak  "s/${FIND}/${REPLACE}/g" < "$3"
+fi
diff --git a/bashrc/generate_all_list.sh b/bashrc/generate_all_list.sh
new file mode 100644
index 00000000..903dee7b
--- /dev/null
+++ ./bashrc/generate_all_list.sh
@@ -0,0 +1,6 @@
+#!/bin/zsh
+
+TARGET=all.list.bak
+PRUNE_POSTFIX=all_prunefix.conf
+
+find . "(" "${prune_params[@]}" ")" -a -prune -o -size +0 -type f -exec grep -Il "" {} + > "$TARGET" ; \
diff --git a/bashrc/generate_files_proj.sh b/bashrc/generate_files_proj.sh
index 83e2c748..19fda7d5 100755
--- ./bashrc/generate_files_proj.sh
+++ ./bashrc/generate_files_proj.sh
@@ -15,6 +15,8 @@ then
     exit 1
 fi
 
+git init
+
 TARGETEDIR=`realpath "$PWD"`
 cp -nv ~/loadrc/prunefix_template.conf ./prunefix.conf
 cp -nv ~/loadrc/prunefile_template.conf ./prunefile.conf
@@ -45,16 +47,16 @@ done < "$INCLUDE_FILE"
 
 export LC_ALL=C
 
-find . "(" "${prune_params[@]}" ")" -a -prune -o -size +0 -type f -exec grep -Il "" {} + | sed 's/\(["'\''\]\)/\\\1/g;s/.*/"&"/' > "$TARGET" && \
-    comm -23 <(sort "$TARGET") <(sort "$PRUNE_FILE") > "$TARGET.tmp" && \
-    cp -fv "$TARGET.tmp" "$TARGET" && \
+find . "(" "${prune_params[@]}" ")" -a -prune -o -size +0 -type f -exec grep -Il "" {} + > "$TARGET" ; \
     if [ ${#include_params[@]} -gt 0 ] ; \
     then \
-        find . "(" "${include_params[@]}" ")" -type f -size -9000k | sed 's/\(["'\''\]\)/\\\1/g;s/.*/"&"/' >> ${TARGET} ; \
+        find . "(" "${include_params[@]}" ")" -type f -size -9000k >> ${TARGET} ; \
         fi && \
-        echo "$(~/loadrc/gitrc/get_current_branch.sh).gdio.diff" | sed 's/\(["'\''\]\)/\\\1/g;s/.*/"&"/' >> ${TARGET} && \
+        echo "$(~/loadrc/gitrc/get_current_branch.sh).gdio.diff" >> ${TARGET} && \
+        sed -i.bak 's/\(["'\''\]\)/\\\1/g;s/.*/"&"/;s/ /\\ /g' "$TARGET" && \
+        comm -23 <(sort "$TARGET") <(sort "$PRUNE_FILE") > "$TARGET.tmp" && \
+        cp -fv "$TARGET.tmp" "$TARGET" && \
         sort -u "$TARGET" -o "$TARGET" && \
-        sed -i.bak 's/ /\\ /g' "$TARGET" && \
         cp -fv "$TARGET" files.proj && \
         echo "$TARGETEDIR"/files.proj | sed 's/\(["'\''\]\)/\\\1/g;s/ /\\ /g;s/.*/"&"/' >> ~/all.proj && \
         sort -u ~/all.proj -o ~/all.proj
diff --git a/bashrc/get_first_column_of_file.sh b/bashrc/get_first_column_of_file.sh
index 7b83d343..d1f2c94c 100755
--- ./bashrc/get_first_column_of_file.sh
+++ ./bashrc/get_first_column_of_file.sh
@@ -9,6 +9,6 @@ fi
 inputFile="$1"
 inputBak="$inputFile".bak
 awk -F":| " '{print $1}' "$inputFile" > "$inputBak"
-sed -i '/^$/d' "$inputBak"
+sed -i.bak "/^$/d" "$inputBak"
 sort -u "$inputBak" -o "$inputBak"
 echo "$inputBak"
diff --git a/bashrc/get_iconv.test.sh b/bashrc/get_iconv.test.sh
new file mode 100755
index 00000000..60512395
--- /dev/null
+++ ./bashrc/get_iconv.test.sh
@@ -0,0 +1,8 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0")
+SCRIPTPATH=$(dirname "$SCRIPT")
+cd "$SCRIPTPATH"
+
+./get_iconv.sh "u2004:~/loadrc"
+./get_iconv.sh "huangyingw@mbp:~/loadrc"
+./get_iconv.sh "~/loadrc"
diff --git a/bashrc/get_iconvs.sh b/bashrc/get_iconvs.sh
new file mode 100755
index 00000000..5c80ad37
--- /dev/null
+++ ./bashrc/get_iconvs.sh
@@ -0,0 +1,33 @@
+#!/bin/zsh
+
+source=$1
+target=$2
+
+shost=$(~/loadrc/bashrc/parse_host.sh "$source")
+thost=$(~/loadrc/bashrc/parse_host.sh "$target")
+
+function get_utf_8_str()
+{
+    host=$1
+
+    if ( ssh -q "$host" "uname" | grep -q Darwin )
+    then
+        echo "utf-8-mac"
+    else
+        echo "utf-8"
+    fi
+}
+
+local_utf_8_str=$(get_utf_8_str "localhost")
+
+if [ "$shost" != "localhost" ]
+then
+    remote_utf_8_str=$(get_utf_8_str $shost)
+    echo "--iconv=$local_utf_8_str,$remote_utf_8_str"
+elif [ "$thost" != "localhost" ]
+then
+    remote_utf_8_str=$(get_utf_8_str $thost)
+    echo "--iconv=$local_utf_8_str,$remote_utf_8_str"
+else
+    echo "--iconv=$local_utf_8_str,$local_utf_8_str"
+fi
diff --git a/bashrc/jdupes.sh b/bashrc/jdupes.sh
index e2137142..86b5db61 100755
--- ./bashrc/jdupes.sh
+++ ./bashrc/jdupes.sh
@@ -10,7 +10,6 @@ TARGET="$1"
 MIRRORCHECK=$HOME/loadrc/."`hostname`".mirror.check
 
 crontab -r
-echo idle > /sys/block/md0/md/sync_action
 
 if [ -f ${MIRRORCHECK} ] ; \
 then \
@@ -20,5 +19,4 @@ then \
     if [ -f ${MIRRORCHECK} ] ; \
     then \
         ~/loadrc/bashrc/sleep.sh ; \
-        fi ; \
-        nvim ~/loadrc/jdupes.log
+    fi
diff --git a/bashrc/ln_fs.sh b/bashrc/ln_fs.sh
index 8946ff3e..cf2ded66 100755
--- ./bashrc/ln_fs.sh
+++ ./bashrc/ln_fs.sh
@@ -9,11 +9,12 @@ then
     if [ -L "$TARGET" ]
     then
         rm "$TARGET"
-    fi
-
-    if [ -f "$TARGET" ]
+    elif [ -f "$TARGET" ]
     then
         cp -nv "$TARGET" "$TARGET".bak
+    elif [ -d "$TARGET" ]
+    then
+        ~/loadrc/bashrc/move.sh "$TARGET" "$TARGET".bak
     fi
 
     ln -fs "$SOURCE" "$TARGET"
diff --git a/bashrc/ln_fs.test.sh b/bashrc/ln_fs.test.sh
new file mode 100755
index 00000000..006dc346
--- /dev/null
+++ ./bashrc/ln_fs.test.sh
@@ -0,0 +1,27 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0")
+SCRIPTPATH=$(dirname "$SCRIPT")
+cd "$SCRIPTPATH"
+
+rm -fr lib
+./ln_fs.sh /var/lib lib
+ls -al lib
+echo
+
+rm lib
+mkdir lib
+./ln_fs.sh /var/lib lib
+ls -al lib
+echo
+
+rm lib
+touch lib
+./ln_fs.sh /var/lib lib
+ls -al lib
+echo
+
+rm lib
+ln -fs /var/lib lib
+./ln_fs.sh /var/lib lib
+ls -al lib
+echo
diff --git a/bashrc/mirror.sh b/bashrc/mirror.sh
index 889ade9a..e3a36ccb 100755
--- ./bashrc/mirror.sh
+++ ./bashrc/mirror.sh
@@ -6,38 +6,42 @@ then
     exit 1
 fi
 
-SOURCE=$1
-TARGET=$2
+source=$1
+target=$2
 
-ready_file="$SOURCE"/"tmirror.ready"
+ready_file="$source"/"tmirror.ready"
 MIRRORCHECK=$HOME/loadrc/."`hostname`".mirror.check
 
-if [ ! -f ${ready_file} ]
+if [[ "${ready_file}" != *":"* ]] && [[ ! -f ${ready_file} ]]
 then
     echo -e "${red}tmirror must be run before mirror ... ${NC}"
     exit 1
 fi
 
-if [ -z "$SOURCE" ]
+if [ -z "$source" ]
 then
-    echo -e "${red}SOURCE could not be none... ${NC}"
+    echo -e "${red}source could not be none... ${NC}"
     exit 1
 fi
 
-if [ -z "$TARGET" ]
+if [ -z "$target" ]
 then
-    echo -e "${red}TARGET could not be none... ${NC}"
+    echo -e "${red}target could not be none... ${NC}"
     exit 1
 fi
 
-if [[ "${TARGET}" != *":"* ]] && [[ ! -d "${TARGET}" ]]
+if [[ "$target" != *":"* ]] && [[ ! -d "$target" ]]
 then
-    mkdir -p "${TARGET}"
+    mkdir -p "$target"
 fi
 
 rm "$ready_file"
+
+iconvs=$(~/loadrc/bashrc/get_iconvs.sh "$source" "$target")
+
 rsync -aHSv --progress --delete-before --force \
-    "${SOURCE}/" "${TARGET}/" && \
+    "$iconvs" \
+    "$source/" "$target/" && \
     if [ -f "${MIRRORCHECK}" ] ; \
     then \
         ~/loadrc/bashrc/sleep.sh ; \
diff --git a/bashrc/mosh.sh b/bashrc/mosh.sh
index 2727f361..9bdb3530 100755
--- ./bashrc/mosh.sh
+++ ./bashrc/mosh.sh
@@ -1,18 +1,19 @@
 #!/bin/bash
 target=$(echo "$1" | sed  -e "s/\/$//g")
-mkdir "$target"
 
-if ( ssh "$target" "uname" | grep -q Darwin )
+MOSHSERVER=$(ssh "$target" ". ~/loadrc/.pathrc ; which mosh-server")
+tmuxAction="$(ssh "$target" ". ~/loadrc/.pathrc ; which tmux") new-session -A -s mosh"
+
+if ( nc -vz "$target" 22 2>&1 | grep -q succeeded ) && [ -z "$MOSHSERVER" ] || [ -z "$tmuxAction" ]
 then
-    MOSHSERVER="/usr/local/bin/mosh-server"
-    tmuxAction='/usr/local/bin/tmux new-session -A -s mosh'
-else
-    MOSHSERVER="/usr/bin/mosh-server"
-    tmuxAction='/usr/bin/tmux new-session -A -s mosh'
+    echo -e "${red}please check connection, mosh and tmux setting of $target first... ${NC}"
+    exit 1
 fi
 
 while true
 do
-    ssh "$target" "~/loadrc/macosrc/configure_mosh.sh" &
+    ssh -fnN -R 2224:localhost:2224 "$target" &
+    ssh -fnN -R 2225:localhost:2225 "$target" &
+    ssh "$target" ". ~/loadrc/.pathrc ; ~/loadrc/macosrc/configure_mosh.sh" &
     mosh --server="$MOSHSERVER" "$target" -- ${tmuxAction}
 done
diff --git a/bashrc/mount_samba.sh b/bashrc/mount_samba.sh
deleted file mode 100755
index fba69a67..00000000
--- ./bashrc/mount_samba.sh
+++ /dev/null
@@ -1,6 +0,0 @@
-#!/bin/zsh
-sshfs -o idmap=user huangyingw@ubuntu:/media/ /media/samba/
-if [ $? -ne 0 ]
-then
-    sshfs -o idmap=user huangyingw@vdonkey:/media/ /media/samba/
-fi
diff --git a/bashrc/move.sh b/bashrc/move.sh
index 84be1e2f..32f935e0 100755
--- ./bashrc/move.sh
+++ ./bashrc/move.sh
@@ -11,18 +11,22 @@ then
     mkdir -p "$2"
 fi
 
-SOURCE="$1"
-realpath "$1" && SOURCE=$(realpath "$1")
+source="$1"
+realpath "$1" && source=$(realpath "$1")
 
-TARGET="$2"
-realpath "$2" && TARGET=$(realpath "$2")
+target="$2"
+realpath "$2" && target=$(realpath "$2")
 
-if [ -n "$SOURCE" ] && [ -n "$TARGET" ] && [ "$SOURCE" != "$TARGET" ]
+if [ -n "$source" ] && [ -n "$target" ] && [ "$source" != "$target" ]
 then
-    rsync --remove-source-files -aHSv --progress --force "$SOURCE/" "$TARGET/" ; \
-        ~/loadrc/bashrc/rmEmpty.sh "$SOURCE/"
+    iconvs=$(~/loadrc/bashrc/get_iconvs.sh "$source" "$target")
+    rsync --remove-source-files -aHSv --progress --force \
+        "$iconvs" \
+        "$source/" "$target/" ; \
+        ~/loadrc/bashrc/rmEmpty.sh "$source"
+
 else
-    echo -e "${red}same dir --> ${SOURCE} ... ${NC}"
+    echo -e "${red}same dir --> ${source} ... ${NC}"
     echo -e "${red}please choose the different dir! ... ${NC}"
     exit 1
 fi
diff --git a/bashrc/move67.sh b/bashrc/move67.sh
index 22da4353..30c75290 100755
--- ./bashrc/move67.sh
+++ ./bashrc/move67.sh
@@ -1,3 +1,14 @@
 #!/bin/zsh
-find /media/volgrp/mirror1/av/ -type f -size +100M -name 6\* | while read ss; do dir=$(echo "$ss" | sed 's/\/mirror1\//\/zarchive\//g'); mkdir -p "$(dirname "$dir")";mv -v "$ss" "$(dirname "$dir")"; done
-find /media/volgrp/mirror1/av/ -type f -size +100M -name 7\* | while read ss; do dir=$(echo "$ss" | sed 's/\/mirror1\//\/zarchive\//g'); mkdir -p "$(dirname "$dir")";mv -v "$ss" "$(dirname "$dir")"; done
+
+find /media/volgrp/mirror1/av/ -type f -size +100M  | while read ss
+do
+    target=$(echo "$ss" | sed 's/\/mirror1\(\/.*\/[6-7][^0-9][^\/]*$\)/\/zarchive\1/g')
+
+    if [ "$ss" != "$target" ]
+    then
+        dir=$(dirname "$target")
+        mkdir -p "$dir"
+        source=$(echo "$ss" | sed 's/"//g')
+        mv -nv "$source" "$target"
+    fi
+done
diff --git a/bashrc/osmirror_exclude b/bashrc/osmirror_exclude
index cd9fe5f8..d00ebc3a 100644
--- ./bashrc/osmirror_exclude
+++ ./bashrc/osmirror_exclude
@@ -9,6 +9,7 @@
 */prunefix.conf
 boot/grub/grub.cfg
 etc/crypttab
+etc/exports
 etc/fstab
 etc/hostname
 etc/hosts
diff --git a/bashrc/parse_host.sh b/bashrc/parse_host.sh
new file mode 100755
index 00000000..9ffc3f7b
--- /dev/null
+++ ./bashrc/parse_host.sh
@@ -0,0 +1,3 @@
+#!/bin/zsh
+
+echo "$1" | sed 's/^[^:]*$/localhost/g;s/\([^:]*\):.*$/\1/g'
diff --git a/bashrc/parse_host.test.sh b/bashrc/parse_host.test.sh
new file mode 100755
index 00000000..e46e9472
--- /dev/null
+++ ./bashrc/parse_host.test.sh
@@ -0,0 +1,8 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0")
+SCRIPTPATH=$(dirname "$SCRIPT")
+cd "$SCRIPTPATH"
+
+./parse_host.sh "mini:~/loadrc"
+./parse_host.sh "huangyingw@mini:~/loadrc"
+./parse_host.sh "~/loadrc"
diff --git a/bashrc/remove_path.sh b/bashrc/remove_path.sh
new file mode 100644
index 00000000..10e89a8a
--- /dev/null
+++ ./bashrc/remove_path.sh
@@ -0,0 +1,6 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0")
+SCRIPTPATH=$(dirname "$SCRIPT")
+cd "$SCRIPTPATH"
+
+export PATH=$(echo $PATH | tr ":" "\n" | grep -v "anaconda3" | tr "\n" ":")
diff --git a/bashrc/rename.sh b/bashrc/rename.sh
new file mode 100755
index 00000000..d3a5e9de
--- /dev/null
+++ ./bashrc/rename.sh
@@ -0,0 +1,6 @@
+#!/bin/zsh
+
+source="$1"
+target="$2"
+mkdir -p "$(dirname "$target")"
+mv -nv "$source" "$target"
diff --git a/bashrc/retire_parts.sh b/bashrc/retire_parts.sh
new file mode 100755
index 00000000..9f5ac8da
--- /dev/null
+++ ./bashrc/retire_parts.sh
@@ -0,0 +1,40 @@
+#!/bin/zsh
+
+function CountParts()
+{
+    echo $(find /var/lib/transmission-daemon/ -type f -mtime +"$1" -name \*.part | wc -l)
+}
+
+left=1
+right=300
+
+while [ $((left + 1)) -lt $right ]
+do
+    mid=$(printf '%s\n' $left $right | datamash median 1)
+    mid=${mid%.*}
+    echo "mid --> $mid"
+
+    local result=$(CountParts $mid)
+    result=${result%.*}
+    echo "result --> $result"
+
+    if [ $result -gt 0 ]
+    then
+        left=$mid
+        echo "left --> $left"
+    else
+        right=$mid
+        echo "right --> $right"
+    fi
+done
+
+local result=$(CountParts $right)
+result=${result%.*}
+echo "result --> $result"
+
+if [ $result -gt 0 ]
+then
+    find /var/lib/transmission-daemon/ -type f -mtime +$right -name \*.part -delete
+else
+    find /var/lib/transmission-daemon/ -type f -mtime +$left -name \*.part -delete 
+fi
diff --git a/bashrc/select_move.sh b/bashrc/select_move.sh
new file mode 100755
index 00000000..2ef72567
--- /dev/null
+++ ./bashrc/select_move.sh
@@ -0,0 +1,8 @@
+#!/bin/zsh
+
+cat "$1" | sed 's/^"//g;s/"$//g;s/\\ / /g' > "$1".tmp
+rsync -aHv --force --progress \
+    --remove-source-files \
+    --files-from "$1".tmp \
+    . \
+    "$2"
diff --git a/bashrc/setup.sh b/bashrc/setup.sh
deleted file mode 100755
index a7a35d8f..00000000
--- ./bashrc/setup.sh
+++ /dev/null
@@ -1,10 +0,0 @@
-#!/bin/zsh
-APPLIST=$HOME/loadrc/bashrc/app_list
-app_list=();
-
-while read suf
-do
-    app_list+=("$suf")
-done < "$APPLIST"
-
-apt-get install "${app_list[@]}" --force-yes -y
diff --git a/bashrc/sleep.sh b/bashrc/sleep.sh
index 4f4f20d8..68683380 100755
--- ./bashrc/sleep.sh
+++ ./bashrc/sleep.sh
@@ -5,6 +5,6 @@ then
     pmset displaysleepnow
     #pmset sleepnow
 else
-    ~/loadrc/gpurc/kill_nvidia.sh
+    # ~/loadrc/gpurc/kill_nvidia.sh
     pm-suspend
 fi
diff --git a/bashrc/sload.sh b/bashrc/sload.sh
deleted file mode 100755
index 1d01bc62..00000000
--- ./bashrc/sload.sh
+++ /dev/null
@@ -1,9 +0,0 @@
-#!/bin/zsh 
-if ping -c 1 macpro &> /dev/null
-then
-  sshfs -o nonempty huangyingw@macpro:~/Dropbox/loadrc/ ~/loadrc/
-  df -TH
-  . $HOME/loadrc/.loadrc
-else
-  . $HOME/loadrc/.loadrc
-fi
diff --git a/bashrc/smount.sh b/bashrc/smount.sh
index 8f22cb80..6bf46761 100755
--- ./bashrc/smount.sh
+++ ./bashrc/smount.sh
@@ -10,11 +10,9 @@ mkdir -p ~/"$remoteServer"
 
 if [ $(uname) = "Linux" ]
 then
-    umount -l ~/"$remoteServer"
-    sshfs "$remoteServer":/ ~/"$remoteServer"
+    sshfs "$remoteServer":/media/ ~/"$remoteServer"
     df -TH
 else
-    diskutil unmountDisk force ~/"$remoteServer"
-    sshfs "$remoteServer":/ ~/"$remoteServer"
+    sudo mount -o nolocks -o resvport "$remoteServer":/media/ ~/"$remoteServer"
     df -H
 fi
diff --git a/bashrc/ssh.sh b/bashrc/ssh.sh
index 7042dce9..0e670bd9 100755
--- ./bashrc/ssh.sh
+++ ./bashrc/ssh.sh
@@ -1,11 +1,4 @@
 #! /bin/zsh
 target=$(echo "$1" | sed  -e "s/\/$//g")
-
-if ( ssh "$target" "uname" | grep -q Darwin )
-then
-    tmuxAction='/usr/local/bin/tmux new-session -A -s ssh'
-else
-    tmuxAction='/usr/bin/tmux new-session -A -s ssh'
-fi
-
+tmuxAction="$(ssh "$target" ". ~/loadrc/.pathrc ; which tmux") new-session -A -s ssh"
 ssh -Y "$target" -t -- ${tmuxAction}
diff --git a/bashrc/tmirror.sh b/bashrc/tmirror.sh
index 30abd357..de5bafe6 100755
--- ./bashrc/tmirror.sh
+++ ./bashrc/tmirror.sh
@@ -1,13 +1,16 @@
 #!/bin/zsh
-SOURCE=$1
-TARGET=$2
+source=$1
+target=$2
 
-ready_file="$SOURCE"/"tmirror.ready"
+ready_file="$source"/"tmirror.ready"
 
-if [ ! -d "$TARGET" ]
+if [ ! -d "$target" ]
 then
-    mkdir -p "$TARGET"
+    mkdir -p "$target"
 fi
 
-rsync -aHinv --delete-before --force \
-    "$SOURCE" "$TARGET" > "$ready_file"
+iconvs=$(~/loadrc/bashrc/get_iconvs.sh "$source" "$target")
+
+rsync -aHivn --delete-before --force \
+    "$iconvs" \
+    "$source/" "$target/" > "$ready_file"
diff --git a/bashrc/wol.sh b/bashrc/wol.sh
index 1e941ff7..f7b1920a 100755
--- ./bashrc/wol.sh
+++ ./bashrc/wol.sh
@@ -8,10 +8,10 @@ then
     wakeonlan 00:e0:4c:68:03:cd
     wakeonlan 00:e0:4c:00:07:a8
     ping server
-elif [ "$target" = "mldonkey" ]
+elif [ "$target" = "haikou" ]
 then
-    wakeonlan 00:01:c0:12:92:a2 #mldonkey
-    ping mldonkey
+    wakeonlan 00:01:c0:12:92:a2 #haikou
+    ping haikou
 elif [ "$target" = "thinkpad" ]
 then
     wakeonlan 00:21:cc:c0:53:a9 #thinkpad
@@ -39,4 +39,17 @@ then
     wakeonlan 1c:87:2c:b7:a1:ce #movie wifi
     wakeonlan -i 192.168.1.2 00:0a:cd:1e:e9:be #movie
     ping movie
+elif [ "$target" = "mini2" ]
+then
+    wakeonlan f4:4e:e3:fd:1c:e5 #mini2 wifi
+    wakeonlan 00:E0:4C:00:07:A8 #mini2 wired
+    ping mini2
+elif [ "$target" = "mba" ]
+then
+    wakeonlan B0:BE:83:1F:9E:EF #wifi
+    ping mba
+elif [ "$target" = "mbp" ]
+then
+    wakeonlan AC:BC:32:87:BF:DB #wifi
+    ping mbp
 fi
diff --git a/crontabrc/.mini.cron b/crontabrc/.mini.cron
index d8126721..95a16ef9 100644
--- ./crontabrc/.mini.cron
+++ ./crontabrc/.mini.cron
@@ -1,2 +1,3 @@
 */10 * * * * /usr/bin/expressvpn connect smart
-0 22-23,0-8 * * * /root/loadrc/crontabrc/mldonkey_start.sh
+* * * * * /root/loadrc/transmissionrc/auto_restart.sh
+*/10 * * * * /root/loadrc/transmissionrc/auto_reboot.sh
diff --git a/cscope b/cscope
index 18a46b20..41fab780 160000
--- ./cscope
+++ ./cscope
@@ -1 +1 @@
-Subproject commit 18a46b2030e874db39398af1bcfdd460cc121f12
+Subproject commit 41fab780d1ca14aad7467436000b0a8ec550c09f
diff --git a/do_install_cubbit.sh b/do_install_cubbit.sh
new file mode 100755
index 00000000..e922ab44
--- /dev/null
+++ ./do_install_cubbit.sh
@@ -0,0 +1,105 @@
+#!/bin/bash
+
+set -e
+
+function clog
+{
+    echo "${BLUE}${UNDERLINE}$1${RESET}"
+}
+
+function cerror
+{
+    echo "${RED}${UNDERLINE}$1${RESET}"
+}
+
+function titlize
+{
+    echo "${YELLOW}$1${RESET}"
+}
+
+######## COLORS ########
+YELLOW=`tput setaf 3`
+BLUE=`tput setaf 4`
+RED=`tput setaf 1`
+UNDERLINE=`tput smul`
+RESET=`tput sgr0`
+######## END COLORS ########
+
+base_url="https://get.cubbit.io/desktop/linux"
+default_file_manager=`xdg-mime query default inode/directory | tr '[:upper:]' '[:lower:]'`
+
+clog "[3.1] Detecting default file manager"
+if [[ $default_file_manager = *"nemo"* ]]; then
+    file_manager="nemo"
+elif [[ $default_file_manager = *"nautilus"* ]]; then
+    file_manager="nautilus"
+elif [[ $default_file_manager = *"caja"* ]]; then
+    file_manager="caja"
+else
+    cerror "File manager not supported"
+    file_manager="skip"
+fi
+
+if [[ $file_manager != "skip" ]]; then
+
+    clog "[3.2] File manager detected: $file_manager. Downloading and installing dependencies"
+
+    sudo apt-get update -y &>/dev/null
+    sudo apt-get install -y libappindicator1 &>/dev/null
+
+    if [ $(apt-cache search python3-$file_manager | wc -l) -ne 0 ]; then
+        sudo apt-get install -y python3-$file_manager &>/dev/null
+    else
+        sudo apt-get install -y python-$file_manager &>/dev/null
+    fi
+
+    tmp_dir=$(mktemp -d -t cubbit-XXXXXX)
+    wget "$base_url/deps.tar.gz" -O "$tmp_dir/deps.tar.gz" &>/dev/null
+    tar xf "$tmp_dir/deps.tar.gz" -C "$tmp_dir"
+
+    capitalized_file_manager="$(tr '[:lower:]' '[:upper:]' <<< ${file_manager:0:1})${file_manager:1}"
+    assets_dir="$tmp_dir/deps/assets"
+
+    clog "[3.3] Copying extension icons"
+    for icon_size in `ls $assets_dir`; do
+        sudo cp $assets_dir/$icon_size/* /usr/share/icons/hicolor/$icon_size/emblems/
+    done
+    sudo gtk-update-icon-cache /usr/share/icons/hicolor/ &>/dev/null
+
+    clog "[3.4] Installing $file_manager extension"
+    sudo cp $tmp_dir/deps/CubbitExtension.py /usr/share/$file_manager-python/extensions/CubbitExtension.py
+    rm -rf $tmp_dir &>/dev/null
+    sudo sed -i.org -e "s/Nemo/$capitalized_file_manager/g" /usr/share/$file_manager-python/extensions/CubbitExtension.py
+
+    while [[ $selection != "Y" ]] && [[ $selection != "y" ]] && [[ $selection != "n" ]] && [[ $selection != "N" ]]; do
+        read -p "File manager need to be restarted in order to enable Cubbit sync extension. Do you want to restart it now? [Y/n]" "selection"
+        if [[ $selection == "Y" ]] || [[ $selection == "y" ]] || [[ -z $selection ]]; then
+            (killall $file_manager || true) &>/dev/null
+            selection="Y"
+        elif [[ $selection == "n" ]] || [[ $selection == "N" ]]; then
+            echo "In order to enable Cubbit sync extension you need to manually restart $file_manager (e.g. killall $file_manager)"
+        fi
+    done
+else
+    clog "Your file manager ($default_file_manager) is not currently supported by Cubbit."
+    clog "Do you want to install Cubbit anyways?"
+    select yn in "Yes" "No"; do
+        case "$yn" in
+            Yes ) break;;
+            No ) exit;;
+        esac
+    done
+fi
+
+cubbit_latest=$(curl -qs https://cubbit.s3.eu-central-1.amazonaws.com/desktop/linux/latest-linux.yml | grep path | awk '{split($0,a," "); print a[2]}')
+download_folder=$(xdg-user-dir DOWNLOAD)
+
+clog "[3.5] Downloading appImage in $download_folder"
+
+cd $download_folder &>/dev/null
+rm -f $cubbit_latest &>/dev/null
+curl -# -A "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:54.0) Gecko/20100101 Firefox/54.0" -O -J "$base_url/$cubbit_latest"
+sudo chmod +x $cubbit_latest
+cd - &>/dev/null
+xdg-open $download_folder &>/dev/null
+clog "[✓] Cubbit desktop client downloaded into your 'Downloads' folder!"
diff --git a/docker-compose.yml b/docker-compose.yml
index 4a15eb71..b8f47dc5 100644
--- ./docker-compose.yml
+++ ./docker-compose.yml
@@ -17,6 +17,10 @@ services:
             - ./.config/nvim/init.vim:/root/.config/nvim/init.vim
             - ~/.gitconfig:/root/.gitconfig
             - ~/.globalgitignore:/root/.globalgitignore
+            - /etc/hosts:/etc/hosts
+            - ~/.zsh_history:/root/.zsh_history
+            - ~/.nvm:/root/.nvm
+            - /Volumes/mirror1/:/media/mirror1/
         environment:
             - FILENAME="~/.bashrc"
         command: /bin/sh -c "/entrypoint.sh 2>&1 | tee /var/logs/containner.log"
diff --git a/dockerrc/edocker.sh b/dockerrc/edocker.sh
index 889b85af..a0cd5228 100755
--- ./dockerrc/edocker.sh
+++ ./dockerrc/edocker.sh
@@ -4,5 +4,5 @@ SCRIPTPATH=$(dirname "$SCRIPT")
 cd "$SCRIPTPATH"
 
 . ~/loadrc/dockerrc/getContainerID.sh "$1"
-docker exec \
-  -it "$CONTAINERID" bash
+docker exec -it "$CONTAINERID" zsh || \
+    docker exec -it "$CONTAINERID" bash
diff --git a/ffmpegrc/concat.sh b/ffmpegrc/concat.sh
index 58429e06..51c59336 100755
--- ./ffmpegrc/concat.sh
+++ ./ffmpegrc/concat.sh
@@ -2,9 +2,10 @@
 
 # https://stackoverflow.com/questions/1616577/surround-all-lines-in-a-text-file-with-quotes-something
 listFile="mylist.txt"
+
 if [ -f "$listFile" ]
 then
-    ffmpeg -f concat -safe 0 -i "$listFile" -c copy -y output.avi
+    ffmpeg -f concat -safe 0 -i "$listFile" -c copy -c:a aac -y output.avi
 else
     find . -type f | sed -e "s/'/'\\\\''/g;s/\(.*\)/file '\1'/" > "$listFile"
 fi
diff --git a/gitrc/.gitconfig b/gitrc/.gitconfig
index ca91dbaf..83420d0e 100755
--- ./gitrc/.gitconfig
+++ ./gitrc/.gitconfig
@@ -67,6 +67,7 @@
     ignore = prunefile.conf
     ignore = prunefix.conf
     ignore = prunefix.rsync
+    ignore = readme
     ignore = rsync.files
     ignore = setup.cfg
 [filter "lfs"]
@@ -90,3 +91,5 @@
     prompt = false
 [merge "ours"]
 	driver = true
+[credential "https://github.com"]
+	helper = !gh auth git-credential
diff --git a/gitrc/apply_branch.sh b/gitrc/apply_branch.sh
index 15190e93..b05c70a7 100755
--- ./gitrc/apply_branch.sh
+++ ./gitrc/apply_branch.sh
@@ -7,9 +7,18 @@ then
   exit 1
 fi
 
+git remote update
+
 BRANCH="$1"
 BRANCH=$(echo "$BRANCH" | sed 's/remotes\///g')
-BRANCH_DIFF=$(echo "$BRANCH" | sed 's/[^\/]*\///g')
+BRANCH_DIFF="$BRANCH"
+
+for remote in $(git remote)
+do
+    BRANCH_DIFF=$(echo "$BRANCH_DIFF" | sed "s/^$remote\///g")
+done
+
+BRANCH_DIFF=$(echo "$BRANCH_DIFF" | sed 's/\//_/g')
 BRANCH_DIFF="$BRANCH_DIFF.gdio.diff"
 echo "BRANCH --> $BRANCH"
 echo "BRANCH_DIFF --> $BRANCH_DIFF"
diff --git a/gitrc/checkGitStatus.sh b/gitrc/checkGitStatus.sh
index 2b929a6c..1565c80c 100755
--- ./gitrc/checkGitStatus.sh
+++ ./gitrc/checkGitStatus.sh
@@ -1,5 +1,6 @@
 #!/bin/zsh
-if [ -n "$(git status --porcelain)" ]
+
+if [ -n "$(git status --untracked-files=no --porcelain --ignore-submodules)" ]
 then
     echo -e "${red}the git repository is unclean, please check it before continuing... ${NC}"
     exit 1
diff --git a/gitrc/checkout_rejs.sh b/gitrc/checkout_rejs.sh
index d81f6f38..5b7555ad 100755
--- ./gitrc/checkout_rejs.sh
+++ ./gitrc/checkout_rejs.sh
@@ -2,6 +3,13 @@
 for ss in $(git status | grep \.rej$) ; \
 do \
     targetFile=$(echo "$ss" | sed 's/\.rej$//g')
+    if [ "$2" = "f" ]
+    then
         git checkout "$1" "$targetFile" && \
             rm "$ss"
+    else
+        git show "$1":"$targetFile" > "$ss"
+    fi
 done
+
+git show "$1":COMMIT_EDITMSG > COMMIT_EDITMSG
diff --git a/gitrc/discard_unnecessaries.sh b/gitrc/discard_unnecessaries.sh
index dbf809a0..87a8c1b4 100755
--- ./gitrc/discard_unnecessaries.sh
+++ ./gitrc/discard_unnecessaries.sh
@@ -1,4 +1,4 @@
 #!/bin/zsh
-git checkout *.gdio.diff
+git checkout \*.gdio.diff
 git checkout files.proj
 git checkout rsync.files
diff --git a/gitrc/dogdio.sh b/gitrc/dogdio.sh
index 4f8edfc6..fd91f70c 100755
--- ./gitrc/dogdio.sh
+++ ./gitrc/dogdio.sh
@@ -1,5 +1,6 @@
 #!/bin/zsh
-if [ -z $(git config gsync.remote) ] || [ -z $(git config gsync.branch) ] 
+
+if [ -z $(git config gsync.target) ]
 then
     exit 0
 fi
@@ -7,9 +8,6 @@ fi
 local_branch="$(~/loadrc/gitrc/get_current_branch.sh)" 
 output="$local_branch.gdio.diff"
 output=$(echo "$output" | sed 's/\//_/g')
-remote_branch="$(git config gsync.branch)"
-remote="$(git config gsync.remote)"
+target="$(git config gsync.target)"
 
-~/loadrc/gitrc/gdi.sh "$remote/$remote_branch" 2>&1 | tee "$output"  
-sed -i.bak "s/^--- a\//--- \.\//g;s/^+++ b\//+++ \.\//g" "$output"
-exit 0
+~/loadrc/gitrc/gdi.sh "$target" 2>&1 | tee "$output" 
diff --git a/gitrc/dogsync.sh b/gitrc/dogsync.sh
index 6e5ba70f..b2d70447 100755
--- ./gitrc/dogsync.sh
+++ ./gitrc/dogsync.sh
@@ -5,6 +5,6 @@ then
     exit
 fi
 
+~/loadrc/gitrc/gps.sh &
 ~/loadrc/gitrc/gpl.sh
-~/loadrc/gitrc/gps.sh
 ~/loadrc/gitrc/dogdio.sh
diff --git a/gitrc/g.sh b/gitrc/g.sh
index 8de34e76..2477da66 100755
--- ./gitrc/g.sh
+++ ./gitrc/g.sh
@@ -1,7 +1,22 @@
 #!/bin/zsh
 ~/loadrc/gitrc/include_gitconfig.sh
+
+if [ -f COMMIT_EDITMSG ]
+then
+    commit_message=$(cat COMMIT_EDITMSG)
+fi
+
+if [ -n "$1" ]
+then
+    commit_message="$1"
+fi
+
+if [ -z "$commit_message" ]
+then
+    commit_message="n"
+fi
+
 git commit --no-edit || \
-    git commit -m "$1" || \
-    git commit -m n
+    git commit -m "$commit_message"
 
 ~/loadrc/gitrc/postCommit.sh
diff --git a/gitrc/gbak.sh b/gitrc/gbak.sh
deleted file mode 100755
index 0be60d68..00000000
--- ./gitrc/gbak.sh
+++ /dev/null
@@ -1,7 +0,0 @@
-#!/bin/zsh
-current_branch="$(~/loadrc/gitrc/get_current_branch.sh)"
-target_branch=$(echo "$current_branch" | sed 's/\.fix$//g').bak
-remote="$(git config gsync.remote)"
-remote_branch="$(git config gsync.branch)"
-~/loadrc/gitrc/gbrd.sh "$target_branch"
-git checkout -b "$target_branch" "$remote/$remote_branch"
diff --git a/gitrc/gbrd.sh b/gitrc/gbrd.sh
index ff263b6d..305c2262 100755
--- ./gitrc/gbrd.sh
+++ ./gitrc/gbrd.sh
@@ -3,5 +3,5 @@ git branch -D "$1"
 
 for ss in $(git remote)
 do
-    git push "$ss" --delete "$1"
+    git push "$ss" --delete "$1" || true
 done
diff --git a/gitrc/gcl.sh b/gitrc/gcl.sh
index e118a4de..e1f58816 100755
--- ./gitrc/gcl.sh
+++ ./gitrc/gcl.sh
@@ -18,7 +18,10 @@ urlVar=$(echo "$urlVar" | sed 's/\//\\\//g')
 sed -i.bak "s|urlVar|$urlVar|g;s|repoVar|${author}_${repo}|g;s|authorVar|$author|g" "$target"/.gitconfig
 echo ".gitconfig --> $(realpath ${target}/.gitconfig)"
 
-cd "$target" && \
+cd "$target"
+CURRENT_BRANCH=$(~/loadrc/gitrc/get_current_branch.sh)
+sed -i.bak "s|branchVar|$CURRENT_BRANCH|g" .gitconfig
+
 git remote remove origin ; \
     $HOME/loadrc/gitrc/gcob.sh dev && \
     $HOME/loadrc/gitrc/gdev.sh && \
diff --git a/gitrc/gcom.sh b/gitrc/gcom.sh
new file mode 100755
index 00000000..f43af40a
--- /dev/null
+++ ./gitrc/gcom.sh
@@ -0,0 +1,40 @@
+#!/bin/zsh
+
+if [ -z "$1" ]
+then
+    echo -e "${red}Please provide target_branch... ${NC}"
+    exit 1
+fi
+
+clean=$(git status --porcelain)
+
+if [ -n "$clean" ]
+then
+    git stash
+fi
+
+~/loadrc/gitrc/discard_unnecessaries.sh
+current_branch=$(~/loadrc/gitrc/get_current_branch.sh)
+
+TARGET_BRANCH="$1"
+TARGET_BRANCH=$(echo "$TARGET_BRANCH" | sed 's/remotes\///g')
+TARGET_BRANCH="$TARGET_BRANCH"
+
+for remote in $(git remote)
+do
+    TARGET_BRANCH=$(echo "$TARGET_BRANCH" | sed "s/^$remote\///g")
+done
+
+echo "TARGET_BRANCH --> $TARGET_BRANCH"
+
+git checkout -b "$TARGET_BRANCH" || \
+    git checkout "$TARGET_BRANCH" &&
+    git merge "$current_branch"
+
+git merge "$1"
+~/loadrc/gitrc/gpl.sh
+
+if [ -n "$clean" ]
+then
+    git stash pop stash@{0}
+fi
diff --git a/gitrc/gdi.sh b/gitrc/gdi.sh
index b720ac69..8fcc4eed 100755
--- ./gitrc/gdi.sh
+++ ./gitrc/gdi.sh
@@ -13,4 +13,4 @@ else
         COMMAND="$COMMAND  ':(exclude)$ss'"
     done
 fi
-eval "$COMMAND"
+eval "$COMMAND" | sed "s/^--- a\//--- \.\//g;s/^+++ b\//+++ \.\//g"
diff --git a/gitrc/gdi2.sh b/gitrc/gdi2.sh
index dbcf937b..72b45d13 100755
--- ./gitrc/gdi2.sh
+++ ./gitrc/gdi2.sh
@@ -17,21 +18,42 @@ fi
 
 targetBranch=$(echo "$currentBranch" | sed 's/\.fix$//g')
 
-if [ -z $(git config gsync.remote) ]
+if [ -z $(git config gsync.target) ]
 then
-    echo -e "${red}gsync.remote is not configured ... ${NC}"
+    echo -e "${red}gsync.target is not configured ... ${NC}"
 fi
 
 host=$(git config deploy.host)
 rpath=$(git config deploy.path)
 
+remote="$(git config gsync.remote)"
+
+git push "$remote" "$targetBranch"
+
 GDITDIFF=$(echo "$currentBranch.gdit.diff" | sed 's/\//_/g')
+
+if [ -z $(cat $GDITDIFF) ]
+then
+    . ~/loadrc/imvurc/ghypo.sh "$targetBranch"
+    exit 0
+fi
+
 ~/loadrc/gitrc/discard_unnecessaries.sh ; \
     git checkout -f "$targetBranch" ; \
-    git apply --index --reject --whitespace=fix "$GDITDIFF" ; \
-    ~/loadrc/gitrc/checkout_rejs.sh "$currentBranch" && \
-    git commit  --no-verify -am "$commit_message" ; \
+    git apply --index --reject --whitespace=fix "$GDITDIFF"
+
+retVal=$?
+
+if [ $retVal -ne 0 ]
+then
+    ~/loadrc/gitrc/checkout_rejs.sh "$currentBranch" "$1"
+fi
+
+if [ $retVal -eq 0 ] || [ "$1" = "f" ]
+then
+    git commit  --no-verify -am "$commit_message" && \
         git pull ; \
         git push ; \
         . ~/loadrc/imvurc/ghypo.sh "$targetBranch" ; \
         ~/loadrc/gitrc/gfix.sh
+fi
diff --git a/gitrc/gdif.sh b/gitrc/gdif.sh
index b0247ec4..07590e7c 100755
--- ./gitrc/gdif.sh
+++ ./gitrc/gdif.sh
@@ -30,4 +30,4 @@ do
     COMMAND="$COMMAND  -- '$ss'"
 done < "$file"
 
-eval "$COMMAND"
+eval "$COMMAND" | sed "s/^--- a\//--- \.\//g;s/^+++ b\//+++ \.\//g"
diff --git a/gitrc/gdit.sh b/gitrc/gdit.sh
index 700d6af6..c3c54016 100755
--- ./gitrc/gdit.sh
+++ ./gitrc/gdit.sh
@@ -3,16 +3,14 @@ output="$1"
 current_branch="$(~/loadrc/gitrc/get_current_branch.sh)"
 target_branch=$(echo "$current_branch" | sed 's/\.fix$//g')
 remote="$(git config gsync.remote)"
-remote_branch="$(git config gsync.branch)"
+target="$(git config gsync.target)"
 
 ~/loadrc/gitrc/discard_unnecessaries.sh
-git checkout -b "$target_branch" "$remote/$target_branch"
-git checkout -b "$target_branch" "$remote/$remote_branch"
+git checkout -b "$target_branch" "$target"
 git checkout -f "$target_branch"
 git branch -u "$remote/$target_branch"
-git merge -X theirs "$remote/$remote_branch" && \
+git merge -X theirs "$target" && \
     git pull && \
-    git push ; \
     git checkout "$current_branch" && \
     ~/loadrc/gitrc/gdi.sh "$target_branch " "$current_branch" 2>&1 | tee "$output"
 
diff --git a/gitrc/git_diff_command.sh b/gitrc/git_diff_command.sh
index e2e8aa4b..603f6518 100755
--- ./gitrc/git_diff_command.sh
+++ ./gitrc/git_diff_command.sh
@@ -1,3 +1,9 @@
 #!/bin/zsh
 
-echo "git diff --ignore-space-at-eol -b -w --ignore-blank-lines --binary"
+echo git diff \
+    --binary \
+    --ignore-all-space \
+    --ignore-blank-lines \
+    --ignore-cr-at-eol \
+    --ignore-space-at-eol \
+    --ignore-space-change
diff --git a/gitrc/git_submodules_branch.sh b/gitrc/git_submodules_branch.sh
new file mode 100755
index 00000000..538f2109
--- /dev/null
+++ ./gitrc/git_submodules_branch.sh
@@ -0,0 +1,2 @@
+#!/bin/zsh
+git submodule foreach git branch
diff --git a/gitrc/gme2.sh b/gitrc/gme2.sh
index 20dd9aa3..0f505a1e 100755
--- ./gitrc/gme2.sh
+++ ./gitrc/gme2.sh
@@ -1,5 +1,4 @@
 #!/bin/zsh
-CURRENT_BRANCH=$(~/loadrc/gitrc/get_current_branch.sh)
 
 if [ -z "$1" ]
 then
@@ -7,4 +6,5 @@ then
     exit 1
 fi
 
+CURRENT_BRANCH=$(~/loadrc/gitrc/get_current_branch.sh)
 git fetch . "$CURRENT_BRANCH":"$1"
diff --git a/gitrc/gpl.sh b/gitrc/gpl.sh
index fa900e00..4cb43793 100755
--- ./gitrc/gpl.sh
+++ ./gitrc/gpl.sh
@@ -1,28 +1,31 @@
 #!/bin/zsh
 
+~/loadrc/gitrc/discard_unnecessaries.sh
+
+if [ -n "$(git status --untracked-files=no --porcelain --ignore-submodules)" ]
+then
+    return
+fi
+
 ~/loadrc/gitrc/include_gitconfig.sh
-git remote update &
-git checkout *.gdio.diff
-git pull &
+git remote update
 currentBranch=$(~/loadrc/gitrc/get_current_branch.sh)
 
-for ss in `git remote -v |awk '/\(fetch\)$/{print $1}'`
+for remote in $(git remote)
 do
-    git pull $ss $currentBranch &
-    git remote prune $ss &
+    git pull $remote $currentBranch
+    git remote prune $remote
 done
 
 for ss in $(git config --get-all pull.from)
 do
-    pull_from=$(echo "$ss" | sed  -e "s/\// /g")
-    COMMAND="git pull $pull_from &"
+    COMMAND="git merge $ss"
     eval "$COMMAND"
 done
 
-remote=$(git config gsync.remote)
-remote_branch=$(git config gsync.branch)
+target=$(git config gsync.target)
 
-if [ -n "$remote" ]
+if [ -n "$target" ]
 then
-    git merge "$remote"/"$remote_branch"
+    git merge "$target"
 fi
diff --git a/gitrc/gps.sh b/gitrc/gps.sh
index 2198cb7f..1af0b074 100755
--- ./gitrc/gps.sh
+++ ./gitrc/gps.sh
@@ -1,11 +1,11 @@
 #!/bin/zsh
-currentBranch=$(~/loadrc/gitrc/get_current_branch.sh)
 ~/loadrc/gitrc/include_gitconfig.sh
 
 if [[ $(git config --get-all push.remote) ]]
 then
     for ss in $(git config --get-all push.remote)
     do
-        git push --all -v "$ss" && git push -v --tag "$ss" &
+        git push --all -v "$ss" &
+        git push -v --tag "$ss" &
     done
 fi
diff --git a/gitrc/gres.sh b/gitrc/gres.sh
deleted file mode 100755
index 1de7ff41..00000000
--- ./gitrc/gres.sh
+++ /dev/null
@@ -1,9 +0,0 @@
-#!/bin/zsh
-
-conflictArr=($(git status | awk '/both .+:/{print $3}'))
-
-for conflict in "${conflictArr[@]}"
-do
-    git add $conflict
-    git reset HEAD $conflict
-done
diff --git a/gitrc/gsearch.sh b/gitrc/gsearch.sh
index b3980c8a..1b8ca893 100755
--- ./gitrc/gsearch.sh
+++ ./gitrc/gsearch.sh
@@ -1,4 +1,3 @@
 #!/bin/zsh
-find_result="$2".gsearch.findresult
-echo "find_result --> $find_result"
-git grep -nH -C2 "$1" $(git rev-list --all) &> "$find_result"
+
+git log --binary --ignore-all-space --ignore-blank-lines --ignore-cr-at-eol --ignore-space-at-eol --ignore-space-change -p -G "$1" &> "$2"
diff --git a/gitrc/gshow.sh b/gitrc/gshow.sh
index 06604af2..0a925ad8 100755
--- ./gitrc/gshow.sh
+++ ./gitrc/gshow.sh
@@ -1,2 +1,2 @@
 #!/bin/zsh
-git show -w "$1"
+git show -w "$1" | sed "s/^--- a\//--- \.\//g;s/^+++ b\//+++ \.\//g" 
diff --git a/gitrc/postCommit.sh b/gitrc/postCommit.sh
index 3bd9b5b1..08477d81 100755
--- ./gitrc/postCommit.sh
+++ ./gitrc/postCommit.sh
@@ -1,2 +1,3 @@
 #!/bin/zsh
 ~/loadrc/gitrc/gsync.sh
+~/loadrc/bashrc/update_proj.sh
diff --git a/gitrc/reapply.sh b/gitrc/reapply.sh
index d1ffbd95..e6e1d0fc 100755
--- ./gitrc/reapply.sh
+++ ./gitrc/reapply.sh
@@ -1,9 +1,9 @@
 #!/bin/zsh
 DIFF="$1"
 CURRET_BRANCH_DIFF="$(~/loadrc/gitrc/get_current_branch.sh).gdio.diff"
-git apply --reverse "$CURRET_BRANCH_DIFF" 
+git apply --index --reverse "$CURRET_BRANCH_DIFF"
 git checkout -- "$CURRET_BRANCH_DIFF"
-git apply --reject --whitespace=fix "$DIFF"
+git apply --index --reject --whitespace=fix "$DIFF"
 ~/loadrc/gitrc/gdio.sh
 
 if [ "$CURRET_BRANCH_DIFF" = "$DIFF" ]
diff --git a/gitrc/rediff.sh b/gitrc/rediff.sh
new file mode 100755
index 00000000..ffbed788
--- /dev/null
+++ ./gitrc/rediff.sh
@@ -0,0 +1,5 @@
+#!/bin/zsh
+
+DIFF_FILE="$1"
+rediff "$DIFF_FILE" | sponge "$DIFF_FILE"
+git add "$DIFF_FILE"
diff --git a/gpurc/.gpurc b/gpurc/.gpurc
index 8be8d98c..6026d401 100644
--- ./gpurc/.gpurc
+++ ./gpurc/.gpurc
@@ -1,4 +1,2 @@
 export CUDA_HOME=/usr/local/cuda
 export LD_LIBRARY_PATH=/usr/local/cuda-9.1/lib64:$LD_LIBRARY_PATH
-export PATH="/usr/local/bin:/opt/local/sbin:$PATH"
-export PATH=/usr/local/cuda/bin:$PATH
diff --git a/host_links/imac/Users/huangyingw/.bashrc b/host_links/imac/Users/huangyingw/.bashrc
deleted file mode 100644
index 82bc6cb7..00000000
--- ./host_links/imac/Users/huangyingw/.bashrc
+++ /dev/null
@@ -1,2 +0,0 @@
-export PATH=/usr/local/bin:$PATH
-. $HOME/loadrc/.loadrc
diff --git a/host_links/imacpro/Users/huangyingw/.bashrc b/host_links/imacpro/Users/huangyingw/.bashrc
deleted file mode 100644
index 82bc6cb7..00000000
--- ./host_links/imacpro/Users/huangyingw/.bashrc
+++ /dev/null
@@ -1,2 +0,0 @@
-export PATH=/usr/local/bin:$PATH
-. $HOME/loadrc/.loadrc
diff --git a/host_links/mbp/Users/huangyingw/.bashrc b/host_links/mbp/Users/huangyingw/.bashrc
deleted file mode 100644
index 82bc6cb7..00000000
--- ./host_links/mbp/Users/huangyingw/.bashrc
+++ /dev/null
@@ -1,2 +0,0 @@
-export PATH=/usr/local/bin:$PATH
-. $HOME/loadrc/.loadrc
diff --git a/host_links/mini/etc/hosts b/host_links/mini/etc/hosts
index 425c9192..dfb4319b 100644
--- ./host_links/mini/etc/hosts
+++ ./host_links/mini/etc/hosts
@@ -9,15 +9,22 @@
 192.168.122.65 master-node
 192.168.122.136 slave-node
 192.168.122.244 zsh
-192.168.31.29 work
+192.168.31.191 work
 172.27.217.162 localhost.imvu.com
 192.168.31.31 server
 192.168.31.147 imacpro
 172.27.68.119 imac
 172.27.118.58 vagrant
 192.168.31.99 mldonkey
-192.168.123.203 u2004
+192.168.31.41 u2004
 10.211.55.5 macos
+192.168.123.177 ubuntu20.04
+# 172.27.174.184 mbp
+192.168.31.96 mbp
+192.168.123.80 u2110
+192.168.31.99 haikou
+192.168.31.223 transmission
+192.168.31.118 mba
 
 # The following lines are desirable for IPv6 capable hosts
 ::1     ip6-localhost ip6-loopback
diff --git a/host_links/mini/etc/netplan/00-installer-config.yaml b/host_links/mini/etc/netplan/00-installer-config.yaml
new file mode 100644
index 00000000..fc3d765a
--- /dev/null
+++ ./host_links/mini/etc/netplan/00-installer-config.yaml
@@ -0,0 +1,12 @@
+network:
+  ethernets:
+    eth0:
+      addresses:
+        - 192.168.31.140/24 
+  version: 2
+
+  bridges:
+    br0:
+      interfaces: [eth0]
+      addresses:
+        - 192.168.31.140/24 
diff --git a/host_links/server/etc/hosts b/host_links/server/etc/hosts
index 50886663..3dda7119 100644
--- ./host_links/server/etc/hosts
+++ ./host_links/server/etc/hosts
@@ -10,6 +10,8 @@
 192.168.31.115 gluster02
 192.168.31.99 mldonkey
 192.168.31.147 imacpro
+192.168.31.96 mbp
+192.168.31.88 transmission
 
 # The following lines are desirable for IPv6 capable hosts
 ::1     ip6-localhost ip6-loopback
diff --git a/hosts/mba/Library/Application Support/ZeroTier/One/identity.public b/hosts/mba/Library/Application Support/ZeroTier/One/identity.public
new file mode 100644
index 00000000..94896a7f
--- /dev/null
+++ ./hosts/mba/Library/Application Support/ZeroTier/One/identity.public	
@@ -0,0 +1 @@
+7400d3ebd5:0:3aa5d438010e88845739f49f4ca3a14772bdd7aa6f57467dfd1909e25fb8be0f835e54a8d7a571d0bddf8d7113936e69ac70f0b08136e810f63515a54db2b69d
\ No newline at end of file
diff --git a/hosts/mba/Library/Application Support/ZeroTier/One/identity.secret b/hosts/mba/Library/Application Support/ZeroTier/One/identity.secret
new file mode 100644
index 00000000..ce55630d
--- /dev/null
+++ ./hosts/mba/Library/Application Support/ZeroTier/One/identity.secret	
@@ -0,0 +1 @@
+7400d3ebd5:0:3aa5d438010e88845739f49f4ca3a14772bdd7aa6f57467dfd1909e25fb8be0f835e54a8d7a571d0bddf8d7113936e69ac70f0b08136e810f63515a54db2b69d:7937cc458423352fe676c08d916a0e2aa8f4a253f1396e77ad0bc86800e2a1c883b29c48e92569307a620c5704659320e9063801c10e44ee27ca4b94d42960bc
\ No newline at end of file
diff --git a/hosts/u2004/var/lib/zerotier-one/identity.public b/hosts/u2004/var/lib/zerotier-one/identity.public
new file mode 100644
index 00000000..0cd205f6
--- /dev/null
+++ ./hosts/u2004/var/lib/zerotier-one/identity.public
@@ -0,0 +1 @@
+8414efd65b:0:1ae70e353e7b0e3dc9be1630ee0f3fd28849a1342f45fa289ff1a3cdd362677208029a287017e897cb076a0e0ee34f8f16084ddd365fbd40cba0583d3ab200d1
\ No newline at end of file
diff --git a/hosts/u2004/var/lib/zerotier-one/identity.secret b/hosts/u2004/var/lib/zerotier-one/identity.secret
new file mode 100644
index 00000000..a8969b40
--- /dev/null
+++ ./hosts/u2004/var/lib/zerotier-one/identity.secret
@@ -0,0 +1 @@
+8414efd65b:0:1ae70e353e7b0e3dc9be1630ee0f3fd28849a1342f45fa289ff1a3cdd362677208029a287017e897cb076a0e0ee34f8f16084ddd365fbd40cba0583d3ab200d1:0db6a42863a1f6a1619ea0eff9501c27d31616a1dfb051f6d657f0d5b2e1dd5f68c7e0f029c78449470c27bc2b3b3acfbdcab05133df9d9ca6238aeaec053b70
\ No newline at end of file
diff --git a/imvurc/ghypo.sh b/imvurc/ghypo.sh
index ea2bc967..b7adab11 100755
--- ./imvurc/ghypo.sh
+++ ./imvurc/ghypo.sh
@@ -1,4 +1,11 @@
 #!/bin/zsh
+
+if [[ "$(git config remote.origin.url)" != *'website.git' ]]
+then
+    echo -e "${red}ghypo only run for imvu website repo... ${NC}"
+    exit 1
+fi
+
 if [ $(hostname) != "linb-sandbox" ]
 then
     if [[ -n "$host" ]] && [[ "$host" != "localhost" ]]
@@ -18,6 +25,8 @@ else
 
     if [ $(~/loadrc/gitrc/git_ready.sh) ]
     then
-        s/hypo
+        s/hypo_best
+        # s/hypo
+        # s/hypo --buildbot=hypo2
     fi
 fi
diff --git a/install_basic.sh b/install_basic.sh
index aeaf8ba1..c5237240 100755
--- ./install_basic.sh
+++ ./install_basic.sh
@@ -1,4 +1,4 @@
-#!/bin/zsh
+#!/bin/bash
 SCRIPT=$(realpath "$0") && \
     SCRIPTPATH=$(dirname "$SCRIPT") && \
     cd "$SCRIPTPATH" || cd ~/loadrc/
diff --git a/install_basic_linux.sh b/install_basic_linux.sh
index 34269226..a8a824c3 100755
--- ./install_basic_linux.sh
+++ ./install_basic_linux.sh
@@ -1,4 +1,4 @@
-#!/bin/zsh
+#!/bin/bash
 SCRIPT=$(realpath "$0")
 SCRIPTPATH=$(dirname "$SCRIPT")
 cd "$SCRIPTPATH"
@@ -9,7 +9,10 @@ then
     exit 0
 fi
 
+./setup_remote.sh
 ./install_prerequisite.sh
+./install_gh.sh
+./install_hub.sh
 ./install_nodejs.sh
 ./install_time_machine.sh
 ./enpass_install.sh
diff --git a/install_basic_macos.sh b/install_basic_macos.sh
index 62d92acb..9db54109 100755
--- ./install_basic_macos.sh
+++ ./install_basic_macos.sh
@@ -8,14 +8,21 @@ then
     exit 0
 fi
 
-/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
+/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
+git -C $(brew --repository homebrew/core) checkout master
 brew update
 brew upgrade
-brew install --cask osxfuse
+brew install \
+    mosh \
+    tmux
+
+./deploy_configurations.sh
+
 brew install \
     Caskroom/cask/xquartz \
     astyle \
     blueutil \
+    clipper \
     coreutils \
     dos2unix \
     ffmpeg \
@@ -33,17 +40,17 @@ brew install \
     libtool \
     lynx \
     minikube \
-    mosh \
     openssl \
     rename \
-    sshfs \
+    rsync \
+    sponge \
     tig \
-    tmux \
     w3m \
     wakeonlan \
     watch \
     wget \
-    xclip
+    xclip \
+    xmlto
 
 brew cask install \
     kdiff3 \
@@ -55,3 +62,4 @@ sudo easy_install pip
 sudo pip install --upgrade pip
 
 #./install_nx.sh
+cp -nv /usr/bin/uname /usr/local/bin/
diff --git a/install_cubbit.sh b/install_cubbit.sh
new file mode 100755
index 00000000..836c58f7
--- /dev/null
+++ ./install_cubbit.sh
@@ -0,0 +1,3 @@
+#!/bin/zsh
+
+bash -c "echo $(curl -fsSl https://get.cubbit.io/desktop/linux/)"
diff --git a/install_gh.sh b/install_gh.sh
new file mode 100755
index 00000000..c3363697
--- /dev/null
+++ ./install_gh.sh
@@ -0,0 +1,6 @@
+#!/bin/bash
+
+curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg |  gpg --dearmor -o /usr/share/keyrings/githubcli-archive-keyring.gpg
+echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" |  tee /etc/apt/sources.list.d/github-cli.list > /dev/null
+apt update
+apt install gh
diff --git a/install_nodejs.sh b/install_nodejs.sh
index c3036dee..09b82d56 100755
--- ./install_nodejs.sh
+++ ./install_nodejs.sh
@@ -5,3 +5,9 @@ cd "$SCRIPTPATH"
 
 . ~/.zshrc
 nvm install node
+OTHER_NODE="/usr/local/bin/node"
+
+if [ -f "$OTHER_NODE" ]
+then
+    mv -v "$OTHER_NODE" "$OTHER_NODE".bak
+fi
diff --git a/install_nvim_pre.sh b/install_nvim_pre.sh
index 2bc75c67..49f4fbcd 100755
--- ./install_nvim_pre.sh
+++ ./install_nvim_pre.sh
@@ -5,12 +5,10 @@ cd "$SCRIPTPATH"
 
 if [ $(uname) != "Darwin" ]
 then
-    add-apt-repository -y ppa:neovim-ppa/stable
     apt-get update
     apt-get upgrade -y
     apt-get install -y \
         exuberant-ctags \
-        neovim \
         python-dev \
         python3-dev \
         python3-pip
@@ -19,10 +17,11 @@ then
 else
     brew install \
         coreutils \
-        neovim \
         python
     brew reinstall python
-    sudo pip3 install --upgrade neovim 
     sudo pip3 install pynvim jedi 
     #brew install --with-toolchain --with-clang llvm
 fi
+
+./neovim/install_prerequisite.sh
+./neovim/install.sh
diff --git a/install_prerequisite.sh b/install_prerequisite.sh
index 298b6bc4..89bfd577 100755
--- ./install_prerequisite.sh
+++ ./install_prerequisite.sh
@@ -1,14 +1,13 @@
 #!/bin/bash
 
-apt-get update
 apt-get upgrade -y
 apt-get purge -y totem totem-plugins
 apt-get install -y \
     aptitude \
+    aria2 \
     astyle \
     automake \
     autotools-dev \
-    bcmwl-kernel-source \
     binutils \
     build-essential \
     cmake \
@@ -16,6 +15,8 @@ apt-get install -y \
     cryptsetup \
     cscope \
     curl \
+    datamash \
+    dialog \
     dkms \
     dos2unix \
     exuberant-ctags \
@@ -30,6 +31,7 @@ apt-get install -y \
     iperf \
     iperf3 \
     iputils-ping \
+    jq \
     kdiff3 \
     libsecret-1-dev \
     libsecret-tools \
@@ -37,10 +39,12 @@ apt-get install -y \
     manpages-fr-extra \
     manpages-pl \
     mdadm \
-    mosh \
+    moreutils \
     mplayer \
+    mysql-client \
     net-tools \
     netcat \
+    nfs-kernel-server \
     npm \
     openvpn \
     perl \
@@ -54,10 +58,11 @@ apt-get install -y \
     slurm \
     smplayer \
     software-properties-common \
-    ssh \
     sshfs \
     tig \
-    tmux \
+    transmission-cli \
+    transmission-common \
+    transmission-daemon \
     unrar \
     w3m \
     w3m-img \
@@ -68,5 +73,3 @@ apt-get install -y \
 modprobe wl
 update-initramfs -u
 locale-gen en_US.UTF-8
-
-./install_hub.sh
diff --git a/leetcoderc/do_post_submit.sh b/leetcoderc/do_post_submit.sh
new file mode 100755
index 00000000..09669214
--- /dev/null
+++ ./leetcoderc/do_post_submit.sh
@@ -0,0 +1,6 @@
+#!/bin/zsh
+NUM="$1"
+
+~/loadrc/leetcoderc/submission.sh "$NUM"
+~/loadrc/leetcoderc/restore.sh "$NUM"
+~/loadrc/leetcoderc/remove_dup.sh "$NUM"
diff --git a/leetcoderc/post_submit.sh b/leetcoderc/post_submit.sh
index 63212f85..7da20781 100755
--- ./leetcoderc/post_submit.sh
+++ ./leetcoderc/post_submit.sh
@@ -2,6 +2,4 @@
 FILE="$1"
 NUM=$(echo "$FILE" | sed 's/^\([0-9]*\)\..*/\1/g')
 
-~/loadrc/leetcoderc/submission.sh "$NUM"
-~/loadrc/leetcoderc/restore.sh "$NUM"
-~/loadrc/leetcoderc/remove_dup.sh "$NUM"
+~/loadrc/bashrc/check_running.sh ~/loadrc/leetcoderc/do_post_submit.sh "$NUM"
diff --git a/leetcoderc/remove_dup.sh b/leetcoderc/remove_dup.sh
index dce2e372..5ba1dea0 100755
--- ./leetcoderc/remove_dup.sh
+++ ./leetcoderc/remove_dup.sh
@@ -2,7 +2,6 @@
 NUM="$1"
 cd "$NUM"
 
-git checkout .
 ~/loadrc/leetcoderc/remove_gabages.sh
 find . -type f \( -name \*.orig -o -name \*.bak \) -delete
 jdupes -1dNr .
diff --git a/leetcoderc/restore.sh b/leetcoderc/restore.sh
index 328d9be3..4aaa0f8c 100755
--- ./leetcoderc/restore.sh
+++ ./leetcoderc/restore.sh
@@ -2,6 +2,5 @@
 NUM="$1"
 
 rsync -aHv --progress \
-    --ignore-existing \
     ../downloads/"$NUM"/ \
-    ./"$NUM"/
+    ../submissions/"$NUM"/
diff --git a/hosts/server/etc/netplan/00-installer-config.yaml b/linux/etc/netplan/00-installer-config.yaml
similarity index 100%
rename from hosts/server/etc/netplan/00-installer-config.yaml
rename to linux/etc/netplan/00-installer-config.yaml
diff --git a/linux_links/etc/crypttab b/linux_links/etc/crypttab
index 191dd600..2707c85c 100644
--- ./linux_links/etc/crypttab
+++ ./linux_links/etc/crypttab
@@ -7,6 +7,8 @@ raid6_crypt      /dev/disk/by-uuid/6eeb5df9-3399-40dc-b11c-f81aa773ae92  /root/l
 usb_archive      /dev/disk/by-uuid/e6addd78-0027-4f36-9251-0788301303c6  /root/loadrc/keys/keyfile   luks
 usb_backup_crypt_4T      /dev/disk/by-uuid/4e0d72a2-2f98-4c11-becd-beaa21ec1957  /root/loadrc/keys/keyfile   luks
 usb_backup_crypt_5T_1      /dev/disk/by-uuid/5d5e3fde-814f-4018-a103-2789c84d43e2  /root/loadrc/keys/keyfile   luks
-zarchive      /dev/disk/by-uuid/a840176a-b76a-4d0f-962c-439e68107670  /root/loadrc/keys/keyfile   luks
+transmission      /dev/disk/by-uuid/a840176a-b76a-4d0f-962c-439e68107670  /root/loadrc/keys/keyfile   luks
 vserver_crypt      /dev/disk/by-uuid/a4ff213e-f734-4c88-aba9-2ce733d0de76  /root/loadrc/keys/keyfile   luks
-usb_backup_crypt_8T      /dev/disk/by-uuid/e1a69d4d-dacb-413b-8361-d59b401b80ad  /root/loadrc/keys/keyfile   luks
+usb_backup_crypt_8T_1      /dev/disk/by-uuid/e1a69d4d-dacb-413b-8361-d59b401b80ad  /root/loadrc/keys/keyfile   luks
+usb_backup_crypt_8T_2      /dev/disk/by-uuid/bbbc9066-0479-4959-af61-ead6a9cea3ba  /root/loadrc/keys/keyfile   luks
+timemachine      /dev/disk/by-uuid/72eff5fa-e188-4b1a-8760-5f5ff828aa37  /root/loadrc/keys/keyfile   luks
diff --git a/macosrc/configure_mosh.sh b/macosrc/configure_mosh.sh
index bb27cd34..b6ca2646 100755
--- ./macosrc/configure_mosh.sh
+++ ./macosrc/configure_mosh.sh
@@ -1,13 +1,13 @@
 #!/bin/zsh
-BINPATH=$(/usr/local/bin/realpath $(which mosh-server))
+BINPATH=$(realpath $(which mosh-server))
 
 # Turn the firewall off
-sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate off
+/usr/bin/sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate off
 
 # Enable the firewall rules (make sure you are using your actual path)
-sudo /usr/libexec/ApplicationFirewall/socketfilterfw --add "$BINPATH"
+/usr/bin/sudo /usr/libexec/ApplicationFirewall/socketfilterfw --add "$BINPATH"
 
-sudo /usr/libexec/ApplicationFirewall/socketfilterfw --unblockapp "$BINPATH"
+/usr/bin/sudo /usr/libexec/ApplicationFirewall/socketfilterfw --unblockapp "$BINPATH"
 
 # Turn the firewall back on
-sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate on
+/usr/bin/sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate on
diff --git a/neovim b/neovim
new file mode 160000
index 00000000..94fbfbaf
--- /dev/null
+++ ./neovim
@@ -0,0 +1 @@
+Subproject commit 94fbfbaf1050bb6ecb4fc41f347b79b3027f0777-dirty
diff --git a/networkrc/ping.sh b/networkrc/ping.sh
new file mode 100755
index 00000000..25b0c5df
--- /dev/null
+++ ./networkrc/ping.sh
@@ -0,0 +1,16 @@
+#!/bin/zsh
+((count = 10))                           # Maximum number to try.
+
+while [[ $count -ne 0 ]] ; do
+    /usr/bin/ping -c 1 8.8.8.8
+    rc=$?
+
+    if [[ $rc -eq 0 ]] ; then
+        ((count = 1))                    # If okay, flag loop exit.
+    else
+        sleep 1                          # Minimise network storm.
+    fi
+    ((count = count - 1))                # So we don't go forever.
+done
+
+exit $rc
diff --git a/networkrc/ping.test.sh b/networkrc/ping.test.sh
new file mode 100755
index 00000000..20099aee
--- /dev/null
+++ ./networkrc/ping.test.sh
@@ -0,0 +1,14 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0")
+SCRIPTPATH=$(dirname "$SCRIPT")
+cd "$SCRIPTPATH"
+
+./ping.sh
+rc=$?
+
+if [[ $rc -eq 0 ]]
+then
+    echo "say The internet is back up."
+else
+    echo "say Timeout."
+fi
diff --git a/networkrc/temp.sh b/networkrc/temp.sh
new file mode 100644
index 00000000..d44dc276
--- /dev/null
+++ ./networkrc/temp.sh
@@ -0,0 +1,9 @@
+ifconfig wlan0 down
+ping -c 1 8.8.8.8
+rc=$?
+
+if [[ $rc -eq 0 ]] ; then
+    echo "network is working"
+else
+    echo "network is not working"
+fi
diff --git a/pbpaste-remote b/pbpaste-remote
new file mode 100755
index 00000000..80d3b345
--- /dev/null
+++ ./pbpaste-remote
@@ -0,0 +1,2 @@
+#!/bin/sh
+nc localhost 2225
diff --git a/prunefile_template.conf b/prunefile_template.conf
index 8e34f2fa..9deeb31c 100644
--- ./prunefile_template.conf
+++ ./prunefile_template.conf
@@ -1,6 +1,7 @@
+"./.fugitiveblame"
 "./cscope"
 "./files.proj"
+"./gbra.log"
 "./running.lck"
 "./running.time"
 .err
-"./gbra.log"
diff --git a/pythonrc/vlc.py b/pythonrc/vlc.py
index 13a0cf4c..d8d70042 100755
--- ./pythonrc/vlc.py
+++ ./pythonrc/vlc.py
@@ -13,7 +13,7 @@ def callvlc(targetFile, start=0):
     if targetFile:
         if platform.system() == 'Darwin':
             if start == 0:
-                subprocess.check_call(['/Applications/VLC.app/Contents/MacOS/VLC', '-f', '--macosx-continue-playback=2', targetFile])
+                subprocess.check_call(['/Applications/VLC.app/Contents/MacOS/VLC', '-f', '--macosx-continue-playback=2', '--rate=2.0', targetFile])
             else:
                 subprocess.check_call(['/Applications/VLC.app/Contents/MacOS/VLC', '-f', '--macosx-continue-playback=2', '--start-time=' + str(start), targetFile])
         else:
diff --git a/setup.sh b/setup.sh
index cc9fd3f1..608329fd 100755
--- ./setup.sh
+++ ./setup.sh
@@ -1,4 +1,4 @@
-#!/bin/zsh
+#!/bin/bash
 SCRIPT=$(realpath "$0") && \
     SCRIPTPATH=$(dirname "$SCRIPT") && \
     cd "$SCRIPTPATH" || cd ~/loadrc/
diff --git a/setup_bidirectional_clipboard.sh b/setup_bidirectional_clipboard.sh
new file mode 100755
index 00000000..93d8270a
--- /dev/null
+++ ./setup_bidirectional_clipboard.sh
@@ -0,0 +1,17 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0") && \
+    SCRIPTPATH=$(dirname "$SCRIPT") && \
+    cd "$SCRIPTPATH" || cd ~/loadrc/
+
+if [ -f ~/Library/LaunchAgents/pbcopy.plist  ]
+then
+    exit 0
+fi
+
+cp -fv ./Library/LaunchAgents/pbcopy.plist ~/Library/LaunchAgents/pbcopy.plist
+cp -fv ./Library/LaunchAgents/pbpaste.plist ~/Library/LaunchAgents/pbpaste.plist
+
+launchctl load ~/Library/LaunchAgents/pbcopy.plist
+launchctl load ~/Library/LaunchAgents/pbpaste.plist
+launchctl start ~/Library/LaunchAgents/pbcopy.plist
+launchctl start ~/Library/LaunchAgents/pbpaste.plist
diff --git a/setup_pbpaste-remote.sh b/setup_pbpaste-remote.sh
new file mode 100755
index 00000000..b385cdc6
--- /dev/null
+++ ./setup_pbpaste-remote.sh
@@ -0,0 +1,13 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0") && \
+    SCRIPTPATH=$(dirname "$SCRIPT") && \
+    cd "$SCRIPTPATH" || cd ~/loadrc/
+
+mkdir -p ~/bin/
+
+if [ -f ~/bin/pbpaste-remote ]
+then
+    exit 0
+fi
+
+cp -fv ./pbpaste-remote ~/bin/pbpaste-remote
diff --git a/setup_remote.sh b/setup_remote.sh
new file mode 100755
index 00000000..be5c410c
--- /dev/null
+++ ./setup_remote.sh
@@ -0,0 +1,12 @@
+#!/bin/bash
+
+apt-get update
+apt-get install -y \
+    mosh \
+    ssh \
+    tmux \
+    zsh
+
+./deploy_configurations.sh
+~/loadrc/bashrc/ln_fs.sh ~/loadrc/.ssh ~/.ssh
+./swith-2-zsh.sh
diff --git a/sqlrc/xsql.sh b/sqlrc/xsql.sh
index 0aae8085..2d88e3a8 100755
--- ./sqlrc/xsql.sh
+++ ./sqlrc/xsql.sh
@@ -12,6 +12,8 @@ user=`cat ${loginFile} |awk -F'=' '/user/{print $2}'`
 password=`cat ${loginFile} |awk -F'=' '/password/{print $2}'`
 host=`cat ${loginFile} |awk -F'=' '/host/{print $2}'`
 dbinstance=`cat ${loginFile} |awk -F'=' '/dbinstance/{print $2}'`
+protocol=`cat ${loginFile} |awk -F'=' '/protocol/{print $2}'`
+option=""
 
 if [ -z "$host" ]
 then
@@ -22,5 +24,10 @@ then
     sort -u "$loginFile" -o "$loginFile"
 fi
 
+if [ -n "$protocol" ]
+then
+    option="--protocol=$protocol"
+fi
+
 cd "$(dirname "$file")"
-mysql -v -u"$user" -p"$password" -h${host} ${dbinstance} < ${file}
+mysql -v "$option" -u"$user" -p"$password" -h${host} ${dbinstance} < ${file}
diff --git a/transmissionrc/auto_reboot.sh b/transmissionrc/auto_reboot.sh
new file mode 100755
index 00000000..837984a4
--- /dev/null
+++ ./transmissionrc/auto_reboot.sh
@@ -0,0 +1,11 @@
+#!/bin/zsh
+
+/root/loadrc/networkrc/ping.sh
+rc=$?
+
+if [[ $rc -eq 0 ]]
+then
+    echo "say The internet is back up."
+else
+    /usr/sbin/reboot
+fi
diff --git a/transmissionrc/auto_restart.sh b/transmissionrc/auto_restart.sh
new file mode 100755
index 00000000..3c517d67
--- /dev/null
+++ ./transmissionrc/auto_restart.sh
@@ -0,0 +1,6 @@
+#!/bin/zsh
+
+while ! (/etc/init.d/transmission-daemon status | grep -q "Active: active")
+do
+    /root/loadrc/bashrc/check_running.sh /root/loadrc/transmissionrc/restart.sh
+done
diff --git a/transmissionrc/restart.sh b/transmissionrc/restart.sh
new file mode 100755
index 00000000..88344b4c
--- /dev/null
+++ ./transmissionrc/restart.sh
@@ -0,0 +1,3 @@
+#!/bin/zsh
+
+/etc/init.d/transmission-daemon restart
diff --git a/uninstall_bidirectional_clipboard.sh b/uninstall_bidirectional_clipboard.sh
new file mode 100755
index 00000000..92c29592
--- /dev/null
+++ ./uninstall_bidirectional_clipboard.sh
@@ -0,0 +1,18 @@
+#!/bin/zsh
+SCRIPT=$(realpath "$0") && \
+    SCRIPTPATH=$(dirname "$SCRIPT") && \
+    cd "$SCRIPTPATH" || cd ~/loadrc/
+
+if [ ! -f ~/Library/LaunchAgents/pbcopy.plist  ]
+then
+    exit 0
+fi
+
+launchctl stop ~/Library/LaunchAgents/pbcopy.plist
+launchctl stop ~/Library/LaunchAgents/pbpaste.plist
+
+launchctl unload ~/Library/LaunchAgents/pbcopy.plist
+launchctl unload ~/Library/LaunchAgents/pbpaste.plist
+
+rm ~/Library/LaunchAgents/pbcopy.plist
+rm ~/Library/LaunchAgents/pbpaste.plist
diff --git a/vimrc/.vim/bundle/Dockerfile.vim b/vimrc/.vim/bundle/Dockerfile.vim
index 86d744c6..2a31e6bc 160000
--- ./vimrc/.vim/bundle/Dockerfile.vim
+++ ./vimrc/.vim/bundle/Dockerfile.vim
@@ -1 +1 @@
-Subproject commit 86d744c6e4731d0014ef469f019a305e2d7baac0
+Subproject commit 2a31e6bcea5977209c05c728c4253d82fd873c82
diff --git a/vimrc/.vim/bundle/bash-support.vim b/vimrc/.vim/bundle/bash-support.vim
index 1d4a909f..a394f1ed 160000
--- ./vimrc/.vim/bundle/bash-support.vim
+++ ./vimrc/.vim/bundle/bash-support.vim
@@ -1 +1 @@
-Subproject commit 1d4a909f46698906b16d711aeb260663f4c4794a
+Subproject commit a394f1ed8ce29873ed2d8344ce20673ee0029764-dirty
diff --git a/vimrc/.vim/bundle/ncm2 b/vimrc/.vim/bundle/ncm2
index 3de17695..d2d8cc43 160000
--- ./vimrc/.vim/bundle/ncm2
+++ ./vimrc/.vim/bundle/ncm2
@@ -1 +1 @@
-Subproject commit 3de17695c58f309642c5148b21d47fac61937a96
+Subproject commit d2d8cc430232f385d8468f44da8635febb9a92ad
diff --git a/vimrc/.vim/bundle/ncm2-pyclang b/vimrc/.vim/bundle/ncm2-pyclang
deleted file mode 160000
index 0c22efb1..00000000
--- ./vimrc/.vim/bundle/ncm2-pyclang
+++ /dev/null
@@ -1 +0,0 @@
-Subproject commit 0c22efb1b919573f69ec237e7a8ab7ca1c1ecc03
diff --git a/vimrc/.vim/bundle/neco-vim b/vimrc/.vim/bundle/neco-vim
index 2b1dca6c..ac084414 160000
--- ./vimrc/.vim/bundle/neco-vim
+++ ./vimrc/.vim/bundle/neco-vim
@@ -1 +1 @@
-Subproject commit 2b1dca6ca16d6f5655748fcd4d54d772fcfd0d81
+Subproject commit ac084414cf1e0de86f5abaab6269b940806e8c6e
diff --git a/vimrc/.vim/bundle/python-mode b/vimrc/.vim/bundle/python-mode
index cc6342c3..15cbdf16 160000
--- ./vimrc/.vim/bundle/python-mode
+++ ./vimrc/.vim/bundle/python-mode
@@ -1 +1 @@
-Subproject commit cc6342c3d28f4b36fa8d7c15f04f7cab1e836cab
+Subproject commit 15cbdf166ab253b60c32062cb5f3607d51708fec-dirty
diff --git a/vimrc/.vim/bundle/swift.vim b/vimrc/.vim/bundle/swift.vim
index 7ef452b4..3278cf3b 160000
--- ./vimrc/.vim/bundle/swift.vim
+++ ./vimrc/.vim/bundle/swift.vim
@@ -1 +1 @@
-Subproject commit 7ef452b47f14a2bfed26324793777cf12d2a8d78
+Subproject commit 3278cf3b0522e6f08eaf11275fedce619beffe9a
diff --git a/vimrc/.vim/bundle/tig-explorer.vim b/vimrc/.vim/bundle/tig-explorer.vim
index 2d520bdf..f4ec3e57 160000
--- ./vimrc/.vim/bundle/tig-explorer.vim
+++ ./vimrc/.vim/bundle/tig-explorer.vim
@@ -1 +1 @@
-Subproject commit 2d520bdf9d2f3838ad3f8f381dd514307a1c90ee
+Subproject commit f4ec3e57ccad1b9a28b8607c4a56a0affc686583
diff --git a/vimrc/.vim/bundle/tlib_vim b/vimrc/.vim/bundle/tlib_vim
index a071b6d4..70c4e222 160000
--- ./vimrc/.vim/bundle/tlib_vim
+++ ./vimrc/.vim/bundle/tlib_vim
@@ -1 +1 @@
-Subproject commit a071b6d41b20069a3520e0d101194a752968973b
+Subproject commit 70c4e222464020edc2809c932b488daaf891eeef
diff --git a/vimrc/.vim/bundle/vim-anyfold b/vimrc/.vim/bundle/vim-anyfold
index 4579327e..4b3a848c 160000
--- ./vimrc/.vim/bundle/vim-anyfold
+++ ./vimrc/.vim/bundle/vim-anyfold
@@ -1 +1 @@
-Subproject commit 4579327e2f73dbf1018d58df9bd356d140059d2b
+Subproject commit 4b3a848ca36318fc1a82c712c5b5c7ea658e4a86
diff --git a/vimrc/.vim/bundle/vim-autoformat b/vimrc/.vim/bundle/vim-autoformat
index dbe8b1e2..bb9753ce 160000
--- ./vimrc/.vim/bundle/vim-autoformat
+++ ./vimrc/.vim/bundle/vim-autoformat
@@ -1 +1 @@
-Subproject commit dbe8b1e21e987866bde27a008deda5d0d767bee3
+Subproject commit bb9753ceba554d673b04f8b878b2d1f4febf6807
diff --git a/vimrc/.vim/bundle/vim-buffergator b/vimrc/.vim/bundle/vim-buffergator
index cfac13ef..c663ae0c 160000
--- ./vimrc/.vim/bundle/vim-buffergator
+++ ./vimrc/.vim/bundle/vim-buffergator
@@ -1 +1 @@
-Subproject commit cfac13efd7832866c134e6fa1b213940e8c0c4d7
+Subproject commit c663ae0cf3e9337d4639ad3bb3235fdfccb4e488
diff --git a/vimrc/.vim/bundle/vim-fetch b/vimrc/.vim/bundle/vim-fetch
new file mode 160000
index 00000000..0a6ab17e
--- /dev/null
+++ ./vimrc/.vim/bundle/vim-fetch
@@ -0,0 +1 @@
+Subproject commit 0a6ab17e84c7f4808bf05ec380121bce40b40d21
diff --git a/vimrc/.vim/bundle/vim-fugitive b/vimrc/.vim/bundle/vim-fugitive
index 8468d6a8..2e9d425c 160000
--- ./vimrc/.vim/bundle/vim-fugitive
+++ ./vimrc/.vim/bundle/vim-fugitive
@@ -1 +1 @@
-Subproject commit 8468d6a8a9dd53cf4cf1fa742b6d64cc440b2a62
+Subproject commit 2e9d425c00bc06c708855cbb322248d8defbab79-dirty
diff --git a/vimrc/.vim/bundle/vim-javascript-syntax b/vimrc/.vim/bundle/vim-javascript-syntax
index ffd0b1da..939d84b5 160000
--- ./vimrc/.vim/bundle/vim-javascript-syntax
+++ ./vimrc/.vim/bundle/vim-javascript-syntax
@@ -1 +1 @@
-Subproject commit ffd0b1da4fdd57c30bc7828af94252a3637ffa10
+Subproject commit 939d84b538480e7cb7810fde5ad807e9ecb477f6
diff --git a/vimrc/.vim/bundle/vim-log-syntax b/vimrc/.vim/bundle/vim-log-syntax
index 2f38eef5..6c244f27 160000
--- ./vimrc/.vim/bundle/vim-log-syntax
+++ ./vimrc/.vim/bundle/vim-log-syntax
@@ -1 +1 @@
-Subproject commit 2f38eef548f37f784f685c7a102132acf9eb1cfa
+Subproject commit 6c244f27dc552b6093b851f9070c3d22e3a38523
diff --git a/vimrc/.vim/bundle/vim-pbcopy b/vimrc/.vim/bundle/vim-pbcopy
new file mode 160000
index 00000000..d6adab9d
--- /dev/null
+++ ./vimrc/.vim/bundle/vim-pbcopy
@@ -0,0 +1 @@
+Subproject commit d6adab9d76d3d1ac6e85680f8579b543733ed3d7
diff --git a/vimrc/.vim/bundle/vim-rails b/vimrc/.vim/bundle/vim-rails
index 3b379635..3bac0233 160000
--- ./vimrc/.vim/bundle/vim-rails
+++ ./vimrc/.vim/bundle/vim-rails
@@ -1 +1 @@
-Subproject commit 3b3796352a6f1a68e54e5f7ae5e0c1b9103fab0e
+Subproject commit 3bac0233a49d2a00805c66bf17d3e2ea114b05d1
diff --git a/vimrc/.vim/bundle/vim-scala b/vimrc/.vim/bundle/vim-scala
index bbdfea4b..7657218f 160000
--- ./vimrc/.vim/bundle/vim-scala
+++ ./vimrc/.vim/bundle/vim-scala
@@ -1 +1 @@
-Subproject commit bbdfea4b98fdb8866a8a6060ec1294643cfeb413
+Subproject commit 7657218f14837395a4e6759f15289bad6febd1b4
diff --git a/vimrc/.vim/plugin/ShowVITAG.vim b/vimrc/.vim/plugin/ShowVITAG.vim
index 7d7359a3..27d015ae 100644
--- ./vimrc/.vim/plugin/ShowVITAG.vim
+++ ./vimrc/.vim/plugin/ShowVITAG.vim
@@ -1,4 +1,5 @@
 function! ShowVITAG()
+    call Cd2Worktree()
     call Cd2ProjectRoot("files.proj")
     call OpenOrSwitch('files.proj', 'vs')
 endfunction
diff --git a/vimrc/.vim/plugin/clipboard.vim b/vimrc/.vim/plugin/clipboard.vim
new file mode 100644
index 00000000..6ccf639b
--- /dev/null
+++ ./vimrc/.vim/plugin/clipboard.vim
@@ -0,0 +1,7 @@
+let os = substitute(system('uname'), "\n", "", "")
+
+if os == "Linux"
+    set clipboard=unnamedplus
+else
+    set clipboard=unnamed
+endif
diff --git a/vimrc/.vim/plugin/command.vim b/vimrc/.vim/plugin/command.vim
deleted file mode 100644
index e69de29b..00000000
diff --git a/vimrc/.vim/plugin/commands.vim b/vimrc/.vim/plugin/commands.vim
new file mode 100644
index 00000000..dfb309e2
--- /dev/null
+++ ./vimrc/.vim/plugin/commands.vim
@@ -0,0 +1,4 @@
+au BufEnter * set noro
+" Don't let Vim's "Found a swap file" message block input
+set shortmess+=A
+command W :execute ':silent w !sudo tee % > /dev/null' | :edit!
diff --git a/vimrc/.vim/plugin/common.vim b/vimrc/.vim/plugin/common.vim
index 63869eb8..baf93470 100644
--- ./vimrc/.vim/plugin/common.vim
+++ ./vimrc/.vim/plugin/common.vim
@@ -141,14 +141,21 @@ endfunction
 function! OpenOrSwitch(buffername, openMode)
     let realpath = substitute(system("realpath " . '"' . a:buffername . '"'), '\n', '', '')
     let bnr = bufwinnr('^' . realpath . '$')
+    let l:line   = getline(line('.'))
+    let l:pattern = '\m\%(:\d\+\)\{1,2}'
+    let l:line_num= matchstr(l:line, l:pattern)
 
     if bnr > 0
         exe bnr . "wincmd w"
+        if l:line_num != ''
+            exec 'e' . '+' . l:line_num
+        else
             exec 'e'
+        endif
     elseif a:openMode ==? "goto"
-        silent exec 'e ' . a:buffername
+        silent exec 'e ' . a:buffername . l:line_num
     else
-        silent exec 'topleft vs ' . a:buffername
+        silent exec 'topleft vs ' . a:buffername . l:line_num
     endif
 endfunction
 
@@ -208,7 +215,7 @@ function! GetEscapedResult(keywordStr)
     let result = substitute(result, '!', '', 'g')
     let result = substitute(result, "<", "", "g")
     let result = substitute(result, ">", "", "g")
-    let result = substitute(result, "\~", "", "g")
+    let result = substitute(result, "~", "", "g")
     let result = substitute(result, "*", "", "g")
     let result = substitute(result, "%", "", "g")
     let result = substitute(result, ":", "", "g")
@@ -263,7 +270,7 @@ function! Filter2Findresult()
 endfunc
 
 function! Cd2ProjectRoot(filename)
-    let csdbpath = Find_in_parent(a:filename, Windowdir(), "/")
+    let csdbpath = Find_in_parent(a:filename, getcwd(), "/")
 
     if csdbpath != "Nothing"
         exec "cd " . csdbpath
diff --git a/vimrc/.vim/plugin/copypath.vim b/vimrc/.vim/plugin/copypath.vim
deleted file mode 100755
index 65740cb6..00000000
--- ./vimrc/.vim/plugin/copypath.vim
+++ /dev/null
@@ -1,88 +0,0 @@
-" copypath.vim : Copy current editing file path to clipboard.
-"
-" Name Of File: copypath.vim
-" Maintainer:   omi taku <mail@nanasi.jp>
-" URL:          http://nanasi.jp/
-" Script URL:   http://www.vim.org/scripts/script.php?script_id=1456
-" Last Change:  2009/12/16
-" Version:      1.0
-"
-" Installation:
-"    1. Unzip copypath.zip ,
-"       and extract there to your vim runtimepath directory ,
-"       $HOME/vimfiles/plugin or $HOME/.vim/plugin directory directory.
-"
-"       Refer to ':help add-plugin', ':help add-global-plugin' and ':help runtimepath'
-"       for more details about Vim plugins.
-"
-"    2. Restart Vim.
-"    3. To run this script, Vim needs to be compiled with "+clipboard" option.
-"
-" Usage:
-"    This script adds two new command ":CopyPath" and ":CopyFileName".
-"    You can use the ":CopyPath" command to copy file path to clipboard,
-"    and you can use the ":CopyFileName" command to copy file name to clipboard.
-"
-"    :CopyPath
-"        copy current editing file full path to clipboard.
-"        And, if you set g:copypath_copy_to_unnamed_register option to 1 then,
-"        copy file full path to unnamed register too.
-"        Default, not copy to unnamed register.
-"
-"    :CopyFileName
-"        copy current editing file name to clipboard.
-"        And, if you set g:copypath_copy_to_unnamed_register option to 1 then,
-"        copy file name to unnamed register too.
-"        Default, not copy to unnamed register.
-"
-" Configuration:
-"    g:copypath_copy_to_unnamed_register
-"       set this option value to 1 then, copy file path and name to unnamed register too.
-"   >
-"       let g:copypath_copy_to_unnamed_register = 1
-"   <
-"
-" Note:
-"    o  To run this script, Vim needs to be compiled with "+clipboard" option.
-"
-" History:
-"    1.0     o  change uploading archive file format to zip format.
-"    0.2     o  unnamed register copy option is added.
-"    0.1.2   o  document is updated.
-"    0.1.1   o  fix bug.
-"    0.1     o  Initial upload.
-
-
-" if plugin is already loaded then, not load plugin.
-if exists("g:loaded_copypath")
-    finish
-endif
-let g:loaded_copypath = 1
-
-" if option is set then use open.
-if !exists('g:copypath_copy_to_unnamed_register')
-    let g:copypath_copy_to_unnamed_register = 0
-endif
-
-function CopyPath()
-    let @+=expand('%:p')
-    " copy unnamed register.
-    if g:copypath_copy_to_unnamed_register
-        let @"=expand('%:p')
-    endif
-endfunction
-
-function CopyFileName()
-    let @+=expand('%:t')
-    " copy unnamed register.
-    if g:copypath_copy_to_unnamed_register
-        let @"=expand('%:t')
-    endif
-endfunction
-
-command! -nargs=0 CopyPath     call CopyPath()
-command! -nargs=0 CopyFileName call CopyFileName()
-
-finish
-
-" vim: set ts=4 sts=4 sw=4 et nowrap :
diff --git a/vimrc/.vim/plugin/diff-options.vim b/vimrc/.vim/plugin/diff-options.vim
new file mode 100644
index 00000000..a154e243
--- /dev/null
+++ ./vimrc/.vim/plugin/diff-options.vim
@@ -0,0 +1,4 @@
+set diffopt+=iwhiteall
+set diffopt+=iblank
+set diffopt+=algorithm:patience
+set diffopt+=indent-heuristic
diff --git a/vimrc/.vim/plugin/fugitive.vim b/vimrc/.vim/plugin/fugitive.vim
index d5874fe5..441c4ba5 100644
--- ./vimrc/.vim/plugin/fugitive.vim
+++ ./vimrc/.vim/plugin/fugitive.vim
@@ -1,13 +1,17 @@
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject AppendRate :execute s:AppendRate(<f-args>)
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject ApplyBranch :execute s:ApplyBranch(<q-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject BinaryGrep :execute s:BinaryGrep(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject CatDu :execute s:CatDu(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject CatMove :execute s:CatMove(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject CatPlay :execute s:CatPlay(<f-args>)
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject CatRate :execute s:CatRate(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject CatRun :execute s:CatRun(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Copy :execute s:Copy(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Dodev :execute s:Dodev()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Dps :execute s:Dps()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Fcscope :execute s:Fcscope()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Fdisklog :execute s:Fdisklog()
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject FileMove :execute s:FileMove(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject FindDeleted :execute s:FindDeleted()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Fnotinuse :execute s:Fnotinuse()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Fr :execute s:Fr(<f-args>)
@@ -27,23 +31,25 @@ command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gclean
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gco :execute s:Gco(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gcob :execute s:Gcob(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gcof :execute s:Gcof(<f-args>)
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gcom :execute s:Gcom(<q-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gcp :execute s:Gcp(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gdev :execute s:Gdev()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gdi :execute s:Gdi(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gdi2 :execute s:Gdi2(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gdif :execute s:Gdif(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gdio :execute s:Gdio(<f-args>)
-command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject GenerateIpynb :execute s:GenerateIpynb()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gdit :execute s:Gdit()
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject GenerateIpynb :execute s:GenerateIpynb()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gfix :execute s:Gfix()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gicb :execute s:Gicb()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gitk :execute s:Gitk(<f-args>)
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gkd :execute s:Gkd(<f-args>)
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gkdo :execute s:Gkdo()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Glf :execute s:Glf()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Glg :execute s:Glg()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gmet :execute s:Gmet()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gpl :execute s:Gpl()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gps :execute s:Gps()
-command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gres :execute s:Gres()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Grsh :execute s:Grsh(<q-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Grta :execute s:Grta(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Grtu :execute s:Grtu()
@@ -51,25 +57,25 @@ command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Grtv :
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gs :execute s:Gs()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gsave :execute s:Gsave()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gshow :execute s:Gshow(<q-args>)
-command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject ApplyBranch :execute s:ApplyBranch(<q-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gst :execute s:Gst()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gsti :execute s:Gsti()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gstl :execute s:Gstl()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gstlv :execute s:Gstlv()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gstp :execute s:Gstp(<q-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gstv :execute s:Gstv(<q-args>)
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gsubbr :execute s:Gsubbr()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gsync :execute s:Gsync()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gtg :execute s:Gtg()
-command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gkd :execute s:Gkd(<f-args>)
-command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gkdo :execute s:Gkdo()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Gwap :execute s:Gwap()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Hdi :execute s:Hdi()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Jformat :execute s:Jformat()
-command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject LcTest :execute s:LcTest()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject KdiffFile :execute s:KdiffFile()
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject LcTest :execute s:LcTest()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject LogFilter :execute s:LogFilter(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Prune :execute s:Prune()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Reapply :execute s:Reapply()
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Rediff :execute s:Rediff()
+command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject SelectMove :execute s:SelectMove(<f-args>)
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject SortBySize :execute s:SortBySize()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject SortByTime :execute s:SortByTime()
 command! -bang -bar -nargs=* -complete=customlist,fugitive#CompleteObject Split :execute s:Split()
@@ -111,13 +117,12 @@ endfunction
 
 function! s:Gkdo() abort
     let worktree = Cd2Worktree()
-    let remote = substitute(system("git config gsync.remote"), '\n', '', '')
-    let branch = substitute(system("git config gsync.branch"), '\n', '', '')
+    let target = substitute(system("git config gsync.target"), '\n', '', '')
 
     if expand('%:t') != 'index'
-        call asyncrun#run('<bang>', '', '~/loadrc/gitrc/gkd.sh ' . '"' .  remote . '/' . branch . '" "' .  expand('%:p') . '"')
+        call asyncrun#run('<bang>', '', '~/loadrc/gitrc/gkd.sh ' . '"' .  target . '" "' .  expand('%:p') . '"')
     else
-        call asyncrun#run('<bang>', '', '~/loadrc/gitrc/gkd.sh ' . '"' .  remote . '/' . branch . '"')
+        call asyncrun#run('<bang>', '', '~/loadrc/gitrc/gkd.sh ' . '"' .  target . '"')
     endif
 endfunction
 
@@ -207,7 +212,8 @@ endfunction
 
 function! s:Gpl() abort
     let worktree = Cd2Worktree()
-    call asyncrun#run('<bang>', '', '~/loadrc/gitrc/gpl.sh 2>&1 | tee gpl.findresult')
+    exec '!~/loadrc/gitrc/gpl.sh 2>&1 | tee gpl.findresult'
+    call OpenOrSwitch('gpl.findresult', 'vs')
 endfunction
 
 function! s:Fsync() abort
@@ -228,12 +234,14 @@ endfunction
 
 function! s:Gbib() abort
     let worktree = Cd2Worktree()
-    exec '!~/loadrc/gitrc/gbib.sh'
+    exec '!~/loadrc/gitrc/gbib.sh | tee gbil.log.runresult'
+    call OpenOrSwitch('gbil.log.runresult', 'vs')
 endfunction
 
 function! s:Gbig() abort
     let worktree = Cd2Worktree()
-    exec '!~/loadrc/gitrc/gbig.sh'
+    exec '!~/loadrc/gitrc/gbig.sh | tee gbil.log.runresult' 
+    call OpenOrSwitch('gbil.log.runresult', 'vs')
 endfunction
 
 function! s:Gbil() abort
@@ -325,7 +333,7 @@ function! s:G(args, ...) abort
     endif
 
     let worktree = Cd2Worktree()
-    call asyncrun#run('<bang>', '', '~/loadrc/gitrc/g.sh ' . '"' .  a:args . '" 2>&1 | tee g.findresult')
+    call asyncrun#run('<bang>', '', '~/loadrc/gitrc/g.sh ' . '"' .  a:args . '" 2>&1 | tee g.runresult')
 
     if &diff
         call s:Gs()
@@ -366,9 +374,8 @@ function! s:Gdi(...) abort
         if arg1 == ''
             call fugitive#Diffsplit(0, 1, "vert", '', [])
         elseif tolower(arg1) == 'o'
-            let remote = substitute(system("git config gsync.remote"), '\n', '', '')
-            let remote_branch = substitute(system("git config gsync.branch"), '\n', '', '')
-            call fugitive#Diffsplit(1, 0, 'vert', remote . '/' . remote_branch, [remote . '/' . remote_branch])
+            let target = substitute(system("git config gsync.target"), '\n', '', '')
+            call fugitive#Diffsplit(1, 0, 'vert', target, [target])
         else
             call fugitive#Diffsplit(0, 1, "vert", arg1, [arg1])
         endif
@@ -424,7 +431,7 @@ function! s:Gdi2(...) abort
     let worktree = Cd2Worktree()
     let output = 'gdi2.findresult'
     let arg1 = (a:0 >= 1) ? a:1 : ''
-    exec '!~/loadrc/gitrc/gdi2.sh 2>&1 | tee ' . '"' .  output . '"'
+    exec '!~/loadrc/gitrc/gdi2.sh ' . '"' .  arg1 . '"' . ' 2>&1 | tee ' . '"' .  output . '"'
     call OpenOrSwitch(output, 'vs')
 endfunction
 
@@ -475,18 +482,17 @@ endfunction
 
 function! s:Gdif(...) abort
     let worktree = Cd2Worktree()
-    let remote = substitute(system("git config gsync.remote"), '\n', '', '')
-    let branch = substitute(system("git config gsync.branch"), '\n', '', '')
-    let branch = (a:0 >= 1) ? a:1 : remote . '/' . branch
+    let target = substitute(system("git config gsync.target"), '\n', '', '')
+    let target = (a:0 >= 1) ? a:1 : target
     let reverse = (a:0 >= 2) ? a:2 : ''
 
-    if branch ==# '-r'
-        let branch = remote . '/' . substitute(system("git config gsync.branch"), '\n', '', '')
+    if target ==# '-r'
+        let target = substitute(system("git config gsync.target"), '\n', '', '')
         let reverse = '-r'
     endif
 
-    let output = GetEscapedResult(branch) . '.diff'
-    exec '!~/loadrc/gitrc/gdif.sh ' . '-b "' .  branch . '" -f "' .  expand("%:p") . '" ' . reverse .  ' 2>&1 | tee ' . output
+    let output = GetEscapedResult(target) . '.diff'
+    exec '!~/loadrc/gitrc/gdif.sh ' . '-b "' .  target . '" -f "' .  expand("%:p") . '" ' . reverse .  ' 2>&1 | tee ' . output
     call OpenOrSwitch(output, 'vs')
 endfunction
 
@@ -516,10 +522,15 @@ endfunction
 
 function! s:ApplyBranch(args, ...) abort
     let worktree = Cd2Worktree()
-    silent exec '!~/loadrc/gitrc/apply_branch.sh ' . '"' .  a:args . '"'
+    exec '!~/loadrc/gitrc/apply_branch.sh ' . '"' .  a:args . '"'
     call s:Gs()
 endfunction
 
+function! s:Gcom(args, ...) abort
+    let worktree = Cd2Worktree()
+    exec '!~/loadrc/gitrc/gcom.sh ' . '"' .  a:args . '"'
+endfunction
+
 function! s:Gshow(args, ...) abort
     let worktree = Cd2Worktree()
     let output = a:args . '.diff'
@@ -527,7 +538,19 @@ function! s:Gshow(args, ...) abort
     call OpenOrSwitch(output, 'vs')
 endfunction
 
+function! s:Gsubbr() abort
+    let worktree = Cd2Worktree()
+    let output = 'git_submodules_branch.log'
+    silent exec '!~/loadrc/gitrc/git_submodules_branch.sh 2>&1 | tee ' . output
+    call OpenOrSwitch(output, 'vs')
+endfunction
+
 function! s:Copy(...) abort
+    if &modified
+        echom 'Please check and save your file first!!!'
+        return 0
+    endif
+
     let newFile = (a:0 >= 1) ? a:1 : expand("%:p") . '.bak'
     exec '!rm ' . newFile
     exec 'w ' . newFile
@@ -546,6 +569,21 @@ function! s:CatPlay(...) abort
     call OpenOrSwitch(b:output, 'vs')
 endfunction
 
+function! s:SelectMove(...) abort
+    if &modified
+        echom 'Please check and save your file first!!!'
+        return 0
+    endif
+
+    if a:0 >= 1
+        let b:output = expand("%:p") . '.runresult'
+        exec '!~/loadrc/bashrc/select_move.sh ' . '"' .  expand("%:p") . '"' . ' ' . '"' . a:1 . '" 2>&1 | tee ' . b:output 
+        call OpenOrSwitch(b:output, 'vs')
+    endif
+
+    call asyncrun#run('<bang>', '', '~/loadrc/bashrc/update_proj.sh') 
+endfunction
+
 function! s:CatMove(...) abort
     if &modified
         echom 'Please check and save your file first!!!'
@@ -559,6 +597,63 @@ function! s:CatMove(...) abort
     call asyncrun#run('<bang>', '', '~/loadrc/bashrc/update_proj.sh') 
 endfunction
 
+function! s:FileMove(...) abort
+    if a:0 >= 1
+        let curword = GetWord()
+        let b:netrw_curdir = getcwd()
+        let map_escape = "<|\n\r\\\<C-V>\""
+        let mapsafecurdir = escape(b:netrw_curdir, map_escape)
+        let oldname = ComposePath(mapsafecurdir, curword)
+
+        if filereadable(oldname)
+            exec '!~/loadrc/bashrc/file_move.sh ' . '"' .  oldname . '"' . ' ' . '"' . a:1 . '"'
+            let newname = a:1 . '/' . substitute(system("basename " . '"' . oldname . '"'), '\n', '', '')
+            let newname = substitute(system("realpath " . '"' . newname . '"'), '\n', '', '')
+            let newname = substitute(newname, getcwd(), '.', 'e')
+            call setline('.', '"' . newname . '"')
+            call UpdateProj()
+        endif
+
+    endif
+
+    call asyncrun#run('<bang>', '', '~/loadrc/bashrc/update_proj.sh')
+endfunction
+
+
+function! s:AppendRate(...) abort
+    if a:0 >= 1
+        let curword = GetWord()
+        let b:netrw_curdir = getcwd()
+        let map_escape = "<|\n\r\\\<C-V>\""
+        let mapsafecurdir = escape(b:netrw_curdir, map_escape)
+        let oldname = ComposePath(mapsafecurdir, curword)
+
+        if filereadable(oldname)
+            exec '!~/loadrc/bashrc/append_rate.sh ' . '"' .  oldname . '"' . ' ' . '"' . a:1 . '"'
+            let newname = substitute(system("~/loadrc/bashrc/append_num.sh " . '"' . oldname . '"' . ' ' . '"' . a:1 . '"'), '\n', '', '')
+            let newname = substitute(newname, getcwd(), '.', 'e')
+            call setline('.', '"' . newname . '"')
+            call UpdateProj()
+        endif
+
+    endif
+
+    call asyncrun#run('<bang>', '', '~/loadrc/bashrc/update_proj.sh')
+endfunction
+
+function! s:CatRate(...) abort
+    if &modified
+        echom 'Please check and save your file first!!!'
+        return 0
+    endif
+
+    if a:0 >= 1
+        exec '!~/loadrc/vishrc/cat_rate.sh ' . '"' .  expand("%:p") . '"' . ' ' . '"' . a:1 . '"'
+    endif
+
+    call asyncrun#run('<bang>', '', '~/loadrc/bashrc/update_proj.sh')
+endfunction
+
 function! s:CatDu(...) abort
     if &modified
         echom 'Please check and save your file first!!!'
@@ -585,11 +680,6 @@ function! s:Tail() abort
     exec '!tail -f ' . expand("%:p")
 endfunction
 
-function! s:Gres() abort
-    let worktree = Cd2Worktree()
-    exec '!~/loadrc/gitrc/gres.sh'
-endfunction
-
 function! s:Dps() abort
     let worktree = Cd2Worktree()
     silent exec '!~/loadrc/dockerrc/dps.sh'
@@ -640,7 +730,10 @@ function! s:Prune() abort
     call asyncrun#run('<bang>', '', '~/loadrc/vishrc/prune.sh ' . '"' .  expand('%:p') . '"')
 endfunction
 
-function! s:Fr(find, replace) abort
+function! s:Fr(...) abort
+    let find = (a:0 >= 1) ? a:1 : ''
+    let replace = (a:0 >= 2) ? a:2 : ''
+    let word_only = (a:0 >= 3) ? a:3 : ''
     call Cd2ProjectRoot("files.proj")
 
     if expand('%:t') != 'index'
@@ -649,14 +742,14 @@ function! s:Fr(find, replace) abort
         let fileList = "files.proj"
     endif
 
-    exec '!~/loadrc/bashrc/fr.sh ' . '"' .  a:find . '"' . ' ' . '"' .  a:replace . '"' . ' ' . '"' .  fileList . '"'
+    exec '!~/loadrc/bashrc/fr.sh ' . '"' .  find . '"' . ' ' . '"' .  replace . '"' . ' ' . '"' .  fileList . '"' . ' ' . '"' .  word_only . '"'
     call s:Gs()
 endfunction
 
 function! s:FindDeleted() abort
     call Cd2Worktree()
-    silent exec '!~/loadrc/gitrc/find_deleted.sh 2>&1 | tee find_deleted.findresult'
-    call OpenOrSwitch('find_deleted.findresult', 'vs')
+    silent exec '!~/loadrc/gitrc/find_deleted.sh 2>&1 | tee find_deleted.runresult'
+    call OpenOrSwitch('find_deleted.runresult', 'vs')
 endfunction
 
 function! s:Gwap() abort
@@ -671,7 +764,7 @@ function! s:Gfix() abort
 endfunction
 
 function! s:Reapply() abort
-    if (expand("%") !~ '.*gdio.diff')
+    if (expand("%") !~ '.*.diff')
         echom 'Please only run on *gdio.diff!!!'
         return 0
     endif
@@ -681,6 +774,17 @@ function! s:Reapply() abort
     call s:Gs()
 endfunction
 
+function! s:Rediff() abort
+    if (expand("%") !~ '.*.diff')
+        echom 'Please only run on *gdio.diff!!!'
+        return 0
+    endif
+
+    let worktree = Cd2Worktree()
+    exec '!~/loadrc/gitrc/rediff.sh ' . '"' .  expand("%:p") . '"'
+    call s:Gs()
+endfunction
+
 function! s:Split() abort
     let worktree = Cd2Worktree()
     exec '!~/loadrc/bashrc/split.sh ' . '"' .  expand('%:t') . '"'
@@ -701,3 +805,5 @@ function! s:GenerateIpynb() abort
     exec '!~/loadrc/ipynbrc/generate_ipynb.sh ' . '"' .  expand('%:p') . '"'
     w
 endfunction
+
+let g:fugitive_legacy_commands = 1
diff --git a/vimrc/.vim/plugin/keymap.vim b/vimrc/.vim/plugin/keymap.vim
index 5fd4a230..c65fe0aa 100644
--- ./vimrc/.vim/plugin/keymap.vim
+++ ./vimrc/.vim/plugin/keymap.vim
@@ -77,8 +77,17 @@ function! VFilter()
 endfunction
 
 function! ShowRemember()
-    let @+=expand('%:p')
-    echom expand('%:p')
+    let b:csdbpath = Cd2ProjectRoot("files.proj")
+    let relativePath = substitute(system('realpath --relative-to="' . b:csdbpath . '" ' . expand('%:p')), '\n', '', '')
+
+    echom relativePath
+    call SendTextToPbCopy(expand('%:p'))
+
+    if &clipboard == 'unnamed'
+        let @* = relativePath
+    else
+        let @+ = relativePath
+    endif
 endfunction
 
 function! Filter()
@@ -172,7 +181,6 @@ function! GetFirstColumnOfFile()
         return 0
     endif
 
-    let bak_file = substitute(system('~/loadrc/bashrc/get_first_column_of_file.sh ' . '"' .  expand("%:p") . '"'), '\n', '', '')
     silent exec '!~/loadrc/bashrc/get_first_column_of_file.sh ' . '"' .  expand("%:p") . '"'
     call OpenOrSwitch(expand("%:p") . '.bak', 'vs')
 endfunction
@@ -334,11 +342,11 @@ endfunction
 function! GitSearch()
     normal! gvy<CR>
     let keyword = GetEscapedKeyword(@@)
-    let b:result = GetEscapedResult(keyword)
+    let b:result = GetEscapedResult(keyword) . '.findresult'
 
     call Cd2Worktree()
     silent exec '!~/loadrc/gitrc/gsearch.sh ' . '"' .  keyword . '"' . ' "' .  b:result . '"'
-    call OpenOrSwitch(b:result . '.gsearch.findresult', 'vs')
+    call OpenOrSwitch(b:result, 'vs')
     call HighlightKeyword(keyword)
 endfunction
 
@@ -353,13 +361,6 @@ function! VimSearch()
     call HighlightKeyword(keyword)
 endfunction
 
-function! OpenProjectRoot()
-    let b:csdbpath = Find_in_parent("files.proj", Windowdir(), "/")
-    let @+=b:csdbpath
-    echom b:csdbpath
-    call OpenOrSwitch(b:csdbpath, 'vs')
-endfunction
-
 function! SwitchWinSize()
     if &winwidth == 1
         set winwidth=999999
@@ -416,40 +417,21 @@ nnoremap <leader>Y "+yy
 nnoremap <leader>p "+p
 nnoremap <leader>P "+P
 nnoremap tt :Autoformat<CR>:w!<cr>
-nnoremap D :only<CR>:vs %:p<cr>:set winwidth=1<cr><c-w>=
+nnoremap D :call OpenDup()<CR>
 " Quickly open current dir in current windows
-nnoremap <leader>d :call OpenProjectRoot()<cr>
 nnoremap <tab> %
 vnoremap <tab> %
 nnoremap M zM
 nnoremap R zR
 nmap <f2> :set number! number?<cr>
 nmap <leader>w :call WinDo('set wrap!') <cr>
-" Convert slashes to backslashes for Windows.
-if has('win32')
-    nmap <leader>cs :let @*=substitute(expand("%"), "/", "\\", "g")<CR>
-    nmap <leader>cl :let @*=substitute(expand("%:p"), "/", "\\", "g")<CR>
 
-    " This will copy the path in 8.3 short format, for DOS and Windows 9x
-    nmap <leader>c8 :let @*=substitute(expand("%:p:8"), "/", "\\", "g")<CR>
-else
-    nmap <leader>cs :let @*=expand("%")<CR>
-    nmap <leader>cl :let @*=expand("%:p")<CR>
-endif
-if has('win32')
-    nmap ,cs :let @*=substitute(expand("%"), "/", "\\", "g")<CR>
-    nmap ,cl :let @*=substitute(expand("%:p"), "/", "\\", "g")<CR>
-
-    " This will copy the path in 8.3 short format, for DOS and Windows 9x
-    nmap ,c8 :let @*=substitute(expand("%:p:8"), "/", "\\", "g")<CR>
-else
-    nmap fs :let @"=expand("%")<CR>
-    nmap <leader>p :let @"=expand("%:p")<CR>
-endif
 " nnoremap F :echom expand('%:p')<cr>
 vnoremap <silent>f :call VimSearch()<cr>
 vnoremap <silent>s :call GitSearch()<cr>
 vnoremap <silent>t :call SearchAgain()<cr>
+nnoremap mc :set cursorline!<cr>
+" nnoremap mc :set hlsearch!<cr>
 nnoremap mg :call VFilter()<cr>
 nnoremap me :call ExtractHighLight()<cr>
 nnoremap mf :call ExFilter()<cr>
@@ -475,7 +457,7 @@ nnoremap H :call ShowVITAG()<cr>
 nnoremap F :call GetFirstColumnOfFile()<cr>
 nnoremap T :vs $HOME/all.proj<cr>
 nnoremap L :vs <C-R>"<cr>
-map <F5> :call VRun()<cr>
+map <F5> :call VRun()<cr><cr>
 map <F3> :call VDebug()<cr>
 " nnoremap gf gF<cr>
 nnoremap gf :call OpenOrSwitch(expand(expand("<cfile>")), 'goto')<cr>
@@ -490,10 +472,7 @@ function! CutFile2()
 endfunc
 
 function! CutCommon()
-    silent exec '!comm -2 -3 <(sort "' . @" . '") <(sort "' . expand("%:p") . '") > "' . @" . '".findresult'
-    silent exec '!comm -1 -3 <(sort "' . @" . '") <(sort "' . expand("%:p") . '") > "' . expand("%:p") . '".findresult'
-    silent exec '!cp -fv "' . @" . '.findresult' . '"' . ' ' . '"' . @" . '"'
-    silent exec '!cp -fv "' . expand("%:p") . '.findresult' . '"' . ' ' . '"' . expand("%:p") . '"'
+    exec '!~/loadrc/bashrc/cutcommon.sh ' . '"' .  @" . '"'  . ' ' . '"' .  expand("%:p") . '"'
 endfunc
 
 nnoremap <leader>2 :call CutCommon()<cr>
@@ -505,3 +484,32 @@ set pastetoggle=<F3>            " when in insert mode, press <F3> to go to
 " open tig with Project root path
 nnoremap <Leader>t :TigOpenProjectRootDir<CR>
 nnoremap <leader>T :TigOpenCurrentFile<CR>
+nnoremap <silent> ml :call CopyLineInfo()<cr>
+
+function! CopyLineInfo()
+    normal yy
+    let b:csdbpath = Cd2ProjectRoot("files.proj")
+    let relativePath = substitute(system('realpath --relative-to="' . b:csdbpath . '" ' . expand('%:p')), '\n', '', '')
+    let content = relativePath . ':' . line('.') . ' ' . @"
+    let @" = content
+endfunction
+
+function! OpenDup()
+    only
+    let is_rej = 0
+
+    if (expand('%:e') ==# 'rej')
+        let is_rej = 1
+        let to_open = substitute(expand('%:p'), '\.rej', '', '')
+        silent exec 'vs ' . to_open
+    else
+        vs %:p
+    endif
+
+    set winwidth=1
+    wincmd =
+
+    if (is_rej == 1)
+        call DiffAll()
+    endif
+endfunction
diff --git a/vimrc/.vim/plugin/netrw.vim b/vimrc/.vim/plugin/netrw.vim
index 56c73821..8b293bd4 100644
--- ./vimrc/.vim/plugin/netrw.vim
+++ ./vimrc/.vim/plugin/netrw.vim
@@ -55,18 +55,15 @@ fun! ComposePath(base, subdir)
     return ret
 endfun
 fun! LocalRename() range
-    let curword = GetWord()
-    let b:netrw_curdir = getcwd()
-    let map_escape = "<|\n\r\\\<C-V>\""
-    let mapsafecurdir = escape(b:netrw_curdir, map_escape)
-    let oldname = ComposePath(mapsafecurdir, curword)
+    let curline = getline(line("."))
+    let nxtline = getline(line(".") + 1)
 
-    if filereadable(oldname)
-        let newname = input("", substitute(oldname, '/*$', '', 'e'))
-        call rename(oldname, newname)
-        let newname = substitute(newname, getcwd(), '.', 'e')
-        call setline('.', '"' . newname . '"')
-        w!
+    let curline = substitute(curline, '\\', '', 'g')
+    let curline = substitute(curline, "^\"", "", "")
+    let curline = substitute(curline, "\"$", "", "")
+    let nxtline = substitute(nxtline, "^\"", "", "")
+    let nxtline = substitute(nxtline, "\"$", "", "")
+    exec '!~/loadrc/bashrc/rename.sh ' . '"' .  curline . '"'  . ' ' . '"' .  nxtline . '"'
+    normal dd
     call UpdateProj()
-    endif
 endfun
diff --git a/vimrc/.vim/plugin/pbpaste.vim b/vimrc/.vim/plugin/pbpaste.vim
new file mode 100644
index 00000000..df39432d
--- /dev/null
+++ ./vimrc/.vim/plugin/pbpaste.vim
@@ -0,0 +1,17 @@
+function! PopulatePasteBufferFromOSX(mode)
+    if &clipboard == 'unnamed'
+        let @* = system('pbpaste-remote')
+    else
+        let @+ = system('pbpaste-remote')
+    endif
+
+    if a:mode== 'v'
+        normal! gvp
+    else
+        normal! gp
+    endif
+
+endfunction
+
+nnoremap <silent> cp :call PopulatePasteBufferFromOSX('n')<cr>
+vnoremap <silent> cp :call PopulatePasteBufferFromOSX('v')<cr>
diff --git a/vimrc/.vim/plugin/view.vim b/vimrc/.vim/plugin/view.vim
index 41afb6c6..55b41320 100644
--- ./vimrc/.vim/plugin/view.vim
+++ ./vimrc/.vim/plugin/view.vim
@@ -37,7 +37,5 @@ else
     set winwidth=999999
 endif
 
-set diffopt+=iwhiteall
-set diffopt+=algorithm:patience
-set diffopt+=indent-heuristic
 set wrap
+"set iskeyword-=_
diff --git a/vimrc/.vim/syntax/python.vim b/vimrc/.vim/syntax/python.vim
deleted file mode 100644
index e0416589..00000000
--- ./vimrc/.vim/syntax/python.vim
+++ /dev/null
@@ -1,394 +0,0 @@
-" vim: ft=vim:fdm=marker
-
-" Enable pymode syntax for python files
-call pymode#default('g:pymode', 1)
-call pymode#default('g:pymode_syntax', g:pymode)
-
-" DESC: Disable script loading
-if !g:pymode || !g:pymode_syntax || pymode#default('b:current_syntax', 'pymode')
-    finish
-endif
-
-" OPTIONS: {{{
-
-" Highlight all by default
-call pymode#default('g:pymode_syntax_all', 1)
-
-" Highlight 'print' as function
-call pymode#default("g:pymode_syntax_print_as_function", 0)
-
-" Highlight '=' operator
-call pymode#default('g:pymode_syntax_highlight_equal_operator', g:pymode_syntax_all)
-
-" Highlight '*' operator
-call pymode#default('g:pymode_syntax_highlight_stars_operator', g:pymode_syntax_all)
-
-" Highlight 'self' keyword
-call pymode#default('g:pymode_syntax_highlight_self', g:pymode_syntax_all)
-
-" Highlight indent's errors
-call pymode#default('g:pymode_syntax_indent_errors', g:pymode_syntax_all)
-
-" Highlight space's errors
-call pymode#default('g:pymode_syntax_space_errors', g:pymode_syntax_all)
-
-" Highlight string formatting
-call pymode#default('g:pymode_syntax_string_formatting', g:pymode_syntax_all)
-call pymode#default('g:pymode_syntax_string_format', g:pymode_syntax_all)
-call pymode#default('g:pymode_syntax_string_templates', g:pymode_syntax_all)
-call pymode#default('g:pymode_syntax_doctests', g:pymode_syntax_all)
-
-" Support docstrings in syntax highlighting
-call pymode#default('g:pymode_syntax_docstrings', 1)
-
-" Highlight builtin objects (True, False, ...)
-call pymode#default('g:pymode_syntax_builtin_objs', g:pymode_syntax_all)
-
-" Highlight builtin types (str, list, ...)
-call pymode#default('g:pymode_syntax_builtin_types', g:pymode_syntax_all)
-
-" Highlight builtin types (div, eval, ...)
-call pymode#default('g:pymode_syntax_builtin_funcs', g:pymode_syntax_all)
-
-" Highlight exceptions (TypeError, ValueError, ...)
-call pymode#default('g:pymode_syntax_highlight_exceptions', g:pymode_syntax_all)
-
-" More slow synchronizing. Disable on the slow machine, but code in docstrings
-" could be broken.
-call pymode#default('g:pymode_syntax_slow_sync', 1)
-
-" }}}
-
-
-" For version 5.x: Clear all syntax items
-if version < 600
-    syntax clear
-endif
-
-" Keywords {{{
-" ============
-
-    syn keyword pythonStatement break continue del
-    syn keyword pythonStatement exec return
-    syn keyword pythonStatement pass raise
-    syn keyword pythonStatement global nonlocal assert
-    syn keyword pythonStatement yield
-    syn keyword pythonLambdaExpr lambda
-    syn keyword pythonStatement with as
-
-    syn keyword pythonStatement def nextgroup=pythonFunction skipwhite
-    syn match pythonFunction "\%(\%(def\s\|@\)\s*\)\@<=\h\%(\w\|\.\)*" contained nextgroup=pythonVars
-    syn region pythonVars start="(" end=")" contained contains=pythonParameters transparent keepend
-    syn match pythonParameters "[^,]*" contained contains=pythonParam skipwhite
-    syn match pythonParam "[^,]*" contained contains=pythonExtraOperator,pythonLambdaExpr,pythonBuiltinObj,pythonBuiltinType,pythonConstant,pythonString,pythonNumber,pythonBrackets,pythonSelf skipwhite
-    syn match pythonBrackets "{[(|)]}" contained skipwhite
-
-    syn keyword pythonStatement class nextgroup=pythonClass skipwhite
-    syn match pythonClass "\%(\%(class\s\)\s*\)\@<=\h\%(\w\|\.\)*" contained nextgroup=pythonClassVars
-    syn region pythonClassVars start="(" end=")" contained contains=pythonClassParameters transparent keepend
-    syn match pythonClassParameters "[^,\*]*" contained contains=pythonBuiltin,pythonBuiltinObj,pythonBuiltinType,pythonExtraOperatorpythonStatement,pythonBrackets,pythonString skipwhite
-
-    syn keyword pythonRepeat        for while
-    syn keyword pythonConditional   if elif else
-    syn keyword pythonInclude       import from
-    syn keyword pythonException     try except finally
-    syn keyword pythonOperator      and in is not or
-
-    syn match pythonExtraOperator "\%([~!^&|/%+-]\|\%(class\s*\)\@<!<<\|<=>\|<=\|\%(<\|\<class\s\+\u\w*\s*\)\@<!<[^<]\@=\|===\|==\|=\~\|>>\|>=\|=\@<!>\|\.\.\.\|\.\.\|::\)"
-    syn match pythonExtraPseudoOperator "\%(-=\|/=\|\*\*=\|\*=\|&&=\|&=\|&&\|||=\||=\|||\|%=\|+=\|!\~\|!=\)"
-
-    if !g:pymode_syntax_print_as_function
-        syn keyword pythonStatement print
-    endif
-
-    if g:pymode_syntax_highlight_equal_operator
-        syn match pythonExtraOperator "\%(=\)"
-    endif
-
-    if g:pymode_syntax_highlight_stars_operator
-        syn match pythonExtraOperator "\%(\*\|\*\*\)"
-    endif
-    
-    if g:pymode_syntax_highlight_self
-        syn keyword pythonSelf self cls
-    endif
-
-" }}}
-
-
-" Decorators {{{
-" ==============
-
-    syn match   pythonDecorator "@" display nextgroup=pythonDottedName skipwhite
-    syn match   pythonDottedName "[a-zA-Z_][a-zA-Z0-9_]*\(\.[a-zA-Z_][a-zA-Z0-9_]*\)*" display contained
-    syn match   pythonDot        "\." display containedin=pythonDottedName
-
-" }}}
-
-
-" Comments {{{
-" ============
-
-    syn match   pythonComment   "#.*$" display contains=pythonTodo,@Spell
-    syn match   pythonRun       "\%^#!.*$"
-    syn match   pythonCoding    "\%^.*\(\n.*\)\?#.*coding[:=]\s*[0-9A-Za-z-_.]\+.*$"
-    syn keyword pythonTodo      TODO FIXME XXX contained
-
-" }}}
-
-
-" Errors {{{
-" ==========
-
-    syn match pythonError       "\<\d\+\D\+\>" display
-    syn match pythonError       "[$?]" display
-    syn match pythonError       "[&|]\{2,}" display
-    syn match pythonError       "[=]\{3,}" display
-
-    " Indent errors (mix space and tabs)
-    if g:pymode_syntax_indent_errors
-        syn match pythonIndentError "^\s*\( \t\|\t \)\s*\S"me=e-1 display
-    endif
-
-    " Trailing space errors
-    if g:pymode_syntax_space_errors
-        syn match pythonSpaceError  "\s\+$" display
-    endif
-
-" }}}
-
-
-" Strings {{{
-" ===========
-
-    syn region pythonString     start=+[bB]\='+ skip=+\\\\\|\\'\|\\$+ excludenl end=+'+ end=+$+ keepend contains=pythonEscape,pythonEscapeError,@Spell
-    syn region pythonString     start=+[bB]\="+ skip=+\\\\\|\\"\|\\$+ excludenl end=+"+ end=+$+ keepend contains=pythonEscape,pythonEscapeError,@Spell
-    syn region pythonString     start=+[bB]\="""+ end=+"""+ keepend contains=pythonEscape,pythonEscapeError,pythonDocTest2,pythonSpaceError,@Spell
-    syn region pythonString     start=+[bB]\='''+ end=+'''+ keepend contains=pythonEscape,pythonEscapeError,pythonDocTest,pythonSpaceError,@Spell
-
-    syn match  pythonEscape     +\\[abfnrtv'"\\]+ display contained
-    syn match  pythonEscape     "\\\o\o\=\o\=" display contained
-    syn match  pythonEscapeError    "\\\o\{,2}[89]" display contained
-    syn match  pythonEscape     "\\x\x\{2}" display contained
-    syn match  pythonEscapeError    "\\x\x\=\X" display contained
-    syn match  pythonEscape     "\\$"
-
-    " Unicode
-    syn region pythonUniString  start=+[uU]'+ skip=+\\\\\|\\'\|\\$+ excludenl end=+'+ end=+$+ keepend contains=pythonEscape,pythonUniEscape,pythonEscapeError,pythonUniEscapeError,@Spell
-    syn region pythonUniString  start=+[uU]"+ skip=+\\\\\|\\"\|\\$+ excludenl end=+"+ end=+$+ keepend contains=pythonEscape,pythonUniEscape,pythonEscapeError,pythonUniEscapeError,@Spell
-    syn region pythonUniString  start=+[uU]"""+ end=+"""+ keepend contains=pythonEscape,pythonUniEscape,pythonEscapeError,pythonUniEscapeError,pythonDocTest2,pythonSpaceError,@Spell
-    syn region pythonUniString  start=+[uU]'''+ end=+'''+ keepend contains=pythonEscape,pythonUniEscape,pythonEscapeError,pythonUniEscapeError,pythonDocTest,pythonSpaceError,@Spell
-
-    syn match  pythonUniEscape          "\\u\x\{4}" display contained
-    syn match  pythonUniEscapeError     "\\u\x\{,3}\X" display contained
-    syn match  pythonUniEscape          "\\U\x\{8}" display contained
-    syn match  pythonUniEscapeError     "\\U\x\{,7}\X" display contained
-    syn match  pythonUniEscape          "\\N{[A-Z ]\+}" display contained
-    syn match  pythonUniEscapeError "\\N{[^A-Z ]\+}" display contained
-
-    " Raw strings
-    syn region pythonRawString  start=+[rR]'+ skip=+\\\\\|\\'\|\\$+ excludenl end=+'+ end=+$+ keepend contains=pythonRawEscape,@Spell
-    syn region pythonRawString  start=+[rR]"+ skip=+\\\\\|\\"\|\\$+ excludenl end=+"+ end=+$+ keepend contains=pythonRawEscape,@Spell
-    syn region pythonRawString  start=+[rR]"""+ end=+"""+ keepend contains=pythonDocTest2,pythonSpaceError,@Spell
-    syn region pythonRawString  start=+[rR]'''+ end=+'''+ keepend contains=pythonDocTest,pythonSpaceError,@Spell
-
-    syn match pythonRawEscape           +\\['"]+ display transparent contained
-
-    " Unicode raw strings
-    syn region pythonUniRawString   start=+[uU][rR]'+ skip=+\\\\\|\\'\|\\$+ excludenl end=+'+ end=+$+ keepend contains=pythonRawEscape,pythonUniRawEscape,pythonUniRawEscapeError,@Spell
-    syn region pythonUniRawString   start=+[uU][rR]"+ skip=+\\\\\|\\"\|\\$+ excludenl end=+"+ end=+$+ keepend contains=pythonRawEscape,pythonUniRawEscape,pythonUniRawEscapeError,@Spell
-    syn region pythonUniRawString   start=+[uU][rR]"""+ end=+"""+ keepend contains=pythonUniRawEscape,pythonUniRawEscapeError,pythonDocTest2,pythonSpaceError,@Spell
-    syn region pythonUniRawString   start=+[uU][rR]'''+ end=+'''+ keepend contains=pythonUniRawEscape,pythonUniRawEscapeError,pythonDocTest,pythonSpaceError,@Spell
-
-    syn match  pythonUniRawEscape   "\([^\\]\(\\\\\)*\)\@<=\\u\x\{4}" display contained
-    syn match  pythonUniRawEscapeError  "\([^\\]\(\\\\\)*\)\@<=\\u\x\{,3}\X" display contained
-
-    " String formatting
-    if g:pymode_syntax_string_formatting
-        syn match pythonStrFormatting   "%\(([^)]\+)\)\=[-#0 +]*\d*\(\.\d\+\)\=[hlL]\=[diouxXeEfFgGcrs%]" contained containedin=pythonString,pythonUniString,pythonRawString,pythonUniRawString
-        syn match pythonStrFormatting   "%[-#0 +]*\(\*\|\d\+\)\=\(\.\(\*\|\d\+\)\)\=[hlL]\=[diouxXeEfFgGcrs%]" contained containedin=pythonString,pythonUniString,pythonRawString,pythonUniRawString
-    endif
-
-    " Str.format syntax
-    if g:pymode_syntax_string_format
-        syn match pythonStrFormat "{{\|}}" contained containedin=pythonString,pythonUniString,pythonRawString,pythonUniRawString
-        syn match pythonStrFormat "{\([a-zA-Z0-9_]*\|\d\+\)\(\.[a-zA-Z_][a-zA-Z0-9_]*\|\[\(\d\+\|[^!:\}]\+\)\]\)*\(![rs]\)\=\(:\({\([a-zA-Z_][a-zA-Z0-9_]*\|\d\+\)}\|\([^}]\=[<>=^]\)\=[ +-]\=#\=0\=\d*\(\.\d\+\)\=[bcdeEfFgGnoxX%]\=\)\=\)\=}" contained containedin=pythonString,pythonUniString,pythonRawString,pythonUniRawString
-    endif
-
-    " String templates
-    if g:pymode_syntax_string_templates
-        syn match pythonStrTemplate "\$\$" contained containedin=pythonString,pythonUniString,pythonRawString,pythonUniRawString
-        syn match pythonStrTemplate "\${[a-zA-Z_][a-zA-Z0-9_]*}" contained containedin=pythonString,pythonUniString,pythonRawString,pythonUniRawString
-        syn match pythonStrTemplate "\$[a-zA-Z_][a-zA-Z0-9_]*" contained containedin=pythonString,pythonUniString,pythonRawString,pythonUniRawString
-    endif
-
-    " DocTests
-    if g:pymode_syntax_doctests
-        syn region pythonDocTest    start="^\s*>>>" end=+'''+he=s-1 end="^\s*$" contained
-        syn region pythonDocTest2   start="^\s*>>>" end=+"""+he=s-1 end="^\s*$" contained
-    endif
-
-    " DocStrings
-    if g:pymode_syntax_docstrings
-        syn region pythonDocstring  start=+^\s*[uU]\?[rR]\?"""+ end=+"""+ keepend excludenl contains=pythonEscape,@Spell,pythonDoctest,pythonDocTest2,pythonSpaceError
-        syn region pythonDocstring  start=+^\s*[uU]\?[rR]\?'''+ end=+'''+ keepend excludenl contains=pythonEscape,@Spell,pythonDoctest,pythonDocTest2,pythonSpaceError
-    endif
-
-
-" }}}
-
-" Numbers {{{
-" ===========
-
-    syn match   pythonHexError  "\<0[xX]\x*[g-zG-Z]\x*[lL]\=\>" display
-    syn match   pythonHexNumber "\<0[xX]\x\+[lL]\=\>" display
-    syn match   pythonOctNumber "\<0[oO]\o\+[lL]\=\>" display
-    syn match   pythonBinNumber "\<0[bB][01]\+[lL]\=\>" display
-    syn match   pythonNumber    "\<\d\+[lLjJ]\=\>" display
-    syn match   pythonFloat "\.\d\+\([eE][+-]\=\d\+\)\=[jJ]\=\>" display
-    syn match   pythonFloat "\<\d\+[eE][+-]\=\d\+[jJ]\=\>" display
-    syn match   pythonFloat "\<\d\+\.\d*\([eE][+-]\=\d\+\)\=[jJ]\=" display
-    syn match   pythonOctError  "\<0[oO]\=\o*[8-9]\d*[lL]\=\>" display
-    syn match   pythonBinError  "\<0[bB][01]*[2-9]\d*[lL]\=\>" display
-
-" }}}
-
-" Builtins {{{
-" ============
-
-    " Builtin objects and types
-    if g:pymode_syntax_builtin_objs
-        syn keyword pythonBuiltinObj True False Ellipsis None NotImplemented
-        syn keyword pythonBuiltinObj __debug__ __doc__ __file__ __name__ __package__
-    endif
-    
-    if g:pymode_syntax_builtin_types    
-        syn keyword pythonBuiltinType type object
-        syn keyword pythonBuiltinType str basestring unicode buffer bytearray bytes chr unichr
-        syn keyword pythonBuiltinType dict int long bool float complex set frozenset list tuple
-        syn keyword pythonBuiltinType file super
-    endif
-
-    " Builtin functions
-    if g:pymode_syntax_builtin_funcs
-        syn keyword pythonBuiltinFunc   __import__ abs all any apply
-        syn keyword pythonBuiltinFunc   bin callable classmethod cmp coerce compile
-        syn keyword pythonBuiltinFunc   delattr dir divmod enumerate eval execfile filter
-        syn keyword pythonBuiltinFunc   format getattr globals locals hasattr hash help hex id
-        syn keyword pythonBuiltinFunc   input intern isinstance issubclass iter len map max min
-        syn keyword pythonBuiltinFunc   next oct open ord pow property range xrange
-        syn keyword pythonBuiltinFunc   raw_input reduce reload repr reversed round setattr
-        syn keyword pythonBuiltinFunc   slice sorted staticmethod sum vars zip
-
-        if g:pymode_syntax_print_as_function
-            syn keyword pythonBuiltinFunc   print
-        endif
-
-    endif
-
-    " Builtin exceptions and warnings
-    if g:pymode_syntax_highlight_exceptions
-        syn keyword pythonExClass   BaseException
-        syn keyword pythonExClass   Exception StandardError ArithmeticError
-        syn keyword pythonExClass   LookupError EnvironmentError
-        syn keyword pythonExClass   AssertionError AttributeError BufferError EOFError
-        syn keyword pythonExClass   FloatingPointError GeneratorExit IOError
-        syn keyword pythonExClass   ImportError IndexError KeyError
-        syn keyword pythonExClass   KeyboardInterrupt MemoryError NameError
-        syn keyword pythonExClass   NotImplementedError OSError OverflowError
-        syn keyword pythonExClass   ReferenceError RuntimeError StopIteration
-        syn keyword pythonExClass   SyntaxError IndentationError TabError
-        syn keyword pythonExClass   SystemError SystemExit TypeError
-        syn keyword pythonExClass   UnboundLocalError UnicodeError
-        syn keyword pythonExClass   UnicodeEncodeError UnicodeDecodeError
-        syn keyword pythonExClass   UnicodeTranslateError ValueError VMSError
-        syn keyword pythonExClass   WindowsError ZeroDivisionError
-        syn keyword pythonExClass   Warning UserWarning BytesWarning DeprecationWarning
-        syn keyword pythonExClass   PendingDepricationWarning SyntaxWarning
-        syn keyword pythonExClass   RuntimeWarning FutureWarning
-        syn keyword pythonExClass   ImportWarning UnicodeWarning
-    endif
-
-" }}}
-
-
-if g:pymode_syntax_slow_sync
-    syn sync minlines=2000
-else
-    " This is fast but code inside triple quoted strings screws it up. It
-    " is impossible to fix because the only way to know if you are inside a
-    " triple quoted string is to start from the beginning of the file.
-    syn sync match pythonSync grouphere NONE "):$"
-    syn sync maxlines=200
-endif
-
-" Highlight {{{
-" =============
-
-    hi def link  pythonStatement    Statement
-    hi def link  pythonLambdaExpr   Statement
-    hi def link  pythonInclude      Include
-    hi def link  pythonFunction     Function
-    hi def link  pythonClass        Type
-    hi def link  pythonParameters   Normal
-    hi def link  pythonParam        Normal
-    hi def link  pythonBrackets     Normal
-    hi def link  pythonClassParameters Normal
-    hi def link  pythonSelf         Identifier
-
-    hi def link  pythonConditional  Conditional
-    hi def link  pythonRepeat       Repeat
-    hi def link  pythonException    Exception
-    hi def link  pythonOperator     Operator
-    hi def link  pythonExtraOperator        Operator
-    hi def link  pythonExtraPseudoOperator  Operator
-
-    hi def link  pythonDecorator    Define
-    hi def link  pythonDottedName   Function
-    hi def link  pythonDot          Normal
-
-    hi def link  pythonComment      Comment
-    hi def link  pythonCoding       Special
-    hi def link  pythonRun          Special
-    hi def link  pythonTodo         Todo
-
-    hi def link  pythonError        Error
-    hi def link  pythonIndentError  Error
-    hi def link  pythonSpaceError   Error
-
-    hi def link  pythonString       String
-    hi def link  pythonDocstring    String
-    hi def link  pythonUniString    String
-    hi def link  pythonRawString    String
-    hi def link  pythonUniRawString String
-
-    hi def link  pythonEscape       Special
-    hi def link  pythonEscapeError  Error
-    hi def link  pythonUniEscape    Special
-    hi def link  pythonUniEscapeError Error
-    hi def link  pythonUniRawEscape Special
-    hi def link  pythonUniRawEscapeError Error
-
-    hi def link  pythonStrFormatting Special
-    hi def link  pythonStrFormat    Special
-    hi def link  pythonStrTemplate  Special
-
-    hi def link  pythonDocTest      Special
-    hi def link  pythonDocTest2     Special
-
-    hi def link  pythonNumber       Number
-    hi def link  pythonHexNumber    Number
-    hi def link  pythonOctNumber    Number
-    hi def link  pythonBinNumber    Number
-    hi def link  pythonFloat        Float
-    hi def link  pythonOctError     Error
-    hi def link  pythonHexError     Error
-    hi def link  pythonBinError     Error
-
-    hi def link  pythonBuiltinType  Type
-    hi def link  pythonBuiltinObj   Structure
-    hi def link  pythonBuiltinFunc  Function
-
-    hi def link  pythonExClass      Structure
-
-" }}}
diff --git a/vimrc/.vimrc b/vimrc/.vimrc
index 777cb3ad..6cb746a0 100644
--- ./vimrc/.vimrc
+++ ./vimrc/.vimrc
@@ -28,7 +28,6 @@ inoremap { {}<LEFT>
 "set nopaste
 xnoremap p pgvy
 au! BufRead,BufNewFile *.hta  setfiletype html
-" let Tlist_Ctags_Cmd='/usr/local/bin/ctags'
 " Mapping ESC in insert mode and command mode to double j
 imap jj <C-[>
 " cmap jj  <C-[]]
@@ -196,12 +195,7 @@ au BufWritePre * call AddToGit()
 let g:pymode_rope = 0
 "To have a space (ASCII 32) considered as a valid character for a file name
 ":set isfname+=32
-let os = substitute(system('uname'), "\n", "", "")
-if os == "Linux"
-    set clipboard=unnamedplus
-else
-    set clipboard=unnamed
-endif
+
 let g:phpfmt_autosave = 1
 let g:phpfmt_standard = '$HOME/loadrc/vimrc/.vim/bundle/vim-phpfmt/ruleset.xml'
 
@@ -277,3 +271,9 @@ let g:tex_flavor = 'latex'
 " add @ to cfile handle
 set isfname+=@-@
 set history=10000
+
+if has('mac') || system('uname') =~# 'Darwin'
+    let g:vim_pbcopy_remote_cmd = "nc localhost 2224"
+else
+    let g:vim_pbcopy_remote_cmd = "nc -N localhost 2224"
+endif
diff --git a/vishrc/cat_play.sh b/vishrc/cat_play.sh
index ed41d521..71bd07af 100755
--- ./vishrc/cat_play.sh
+++ ./vishrc/cat_play.sh
@@ -1,11 +1,9 @@
 #!/bin/zsh
 
-while true
-do
 while read ss
 do
     ss=$(echo "$ss" | sed 's/"//g')
-        echo "now playing $ss"
+    echo "now playing"
+    echo "$ss"
     ~/loadrc/vishrc/vlc.sh "$ss"
 done < "$1"
-done
diff --git a/vishrc/cat_rate.sh b/vishrc/cat_rate.sh
new file mode 100755
index 00000000..edfddbb7
--- /dev/null
+++ ./vishrc/cat_rate.sh
@@ -0,0 +1,13 @@
+#!/bin/zsh
+
+result=()
+
+while read ss
+do
+    ~/loadrc/bashrc/append_rate.sh "$ss" "$2"
+    target=$(~/loadrc/bashrc/append_num.sh "$ss" "$2")
+    result+=("$target")
+done < "$1"
+
+printf "%s\n" "${result[@]}" > "$1".tmp
+cp -fv "$1".tmp "$1"
diff --git a/vishrc/vlc.sh b/vishrc/vlc.sh
index 57af963a..b4ad2e35 100755
--- ./vishrc/vlc.sh
+++ ./vishrc/vlc.sh
@@ -7,7 +7,7 @@ fi
 
 if [ $(uname) = "Darwin" ]
 then
-    /Applications/VLC.app/Contents/MacOS/VLC -f --macosx-continue-playback=2 "$1"
+    /Applications/VLC.app/Contents/MacOS/VLC -f --macosx-continue-playback=2 --rate=2.0 "$1"
 else
     #smplayer "$1"
     smplayer -fullscreen "$1"
diff --git a/vishrc/vrun.sh b/vishrc/vrun.sh
index e14de500..da1c895d 100755
--- ./vishrc/vrun.sh
+++ ./vishrc/vrun.sh
@@ -27,7 +27,7 @@ rootFolder=$(~/loadrc/bashrc/find_up_folder.sh "$file" "files.proj")
 rfile=$(realpath --relative-to="$rootFolder" "$file")
 rfolder=$(realpath --relative-to="$rootFolder" $(dirname "$file"))
 
-if [[ "$file" = *'Dockerfile' ]] 
+if [[ "$file" = *'Dockerfile'* ]] 
 then
     cd "$rootFolder"
     docker build -f "$rfile" "$rfolder"
@@ -58,7 +58,7 @@ case $extension in
     sh)
         if [[ -n "$host" ]] && [[ "$host" != "localhost" ]]
         then
-            ssh -nY "$host" "cd $rpath ; . ~/loadrc/.loadrc ; $rpath/$rfile"
+            ssh -nY "$host" "cd $rpath ; . ~/loadrc/.pathrc ; $rpath/$rfile"
         else
             "$file"
         fi
@@ -69,7 +69,7 @@ case $extension in
     py)
         if [[ -n "$host" ]] && [[ "$host" != "localhost" ]]
         then
-            ssh -nY "$host" "cd $rpath ; . ~/loadrc/.loadrc ; python3 $rfile"
+            ssh -nY "$host" "cd $rpath ; . ~/loadrc/.pathrc ; python3 $rfile"
         else
             SCRIPT=$(realpath "$file")
             SCRIPTPATH=$(dirname "$SCRIPT")
diff --git a/vishrc/vsearch.sh b/vishrc/vsearch.sh
index 48f7223b..d2da8f4c 100755
--- ./vishrc/vsearch.sh
+++ ./vishrc/vsearch.sh
@@ -9,3 +9,10 @@ then
 else
     cscope -CdL -f cscope.out -"$3""$keyword" > "$find_result"
 fi
+
+# https://stackoverflow.com/questions/70444758/how-to-regex-replace-before-colon
+# awk 'BEGIN {FS=OFS=":"}{if(NF>1)gsub(" ","\\ ",$1)}1' "$find_result" > "$find_result".bak 
+# perl -pe 's/\G[^ :]*\K /\\ /g' "$find_result" > "$find_result".bak   
+# sed -i.bak -E 's/:/\n:/;h;s/ /\\ /g;G;s/\n.*\n//' "$find_result"
+awk 'BEGIN {FS=OFS=":"}{if(NF>1)gsub(" ","\\ ",$1)}1' "$find_result" > "$find_result".bak  
+cp -fv "$find_result".bak "$find_result"
diff --git a/wifi-auto-reconnect b/wifi-auto-reconnect
new file mode 160000
index 00000000..04606c01
--- /dev/null
+++ ./wifi-auto-reconnect
@@ -0,0 +1 @@
+Subproject commit 04606c01bae1cd0b1786731076809f0c6da445d0
diff --git a/wifirc/autoconnect.sh b/wifirc/autoconnect.sh
index 430298e0..cb9795ec 100755
--- ./wifirc/autoconnect.sh
+++ ./wifirc/autoconnect.sh
@@ -11,12 +11,12 @@ DEV=$(
     done
 ) 
 
-TARGET_ID=$(nmcli connection show | grep $DEV | sed 's/.*[^0-9a-z]\(\([0-9a-z]*-\)\{4\}[0-9a-z]*\).*/\1/g')
+TARGET_ID=$(nmcli connection show | grep wifi | sed 's/.*[^0-9a-z]\(\([0-9a-z]*-\)\{4\}[0-9a-z]*\).*/\1/g')
 
 if [ "$CONNECTION_UUID" = "$TARGET_ID" ]
 then
     if [ "$2" = "down" ]; then
-        sleep 10
+        sleep 5
         nmcli con up uuid $CONNECTION_UUID
     fi
 fi
